<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ERB Servicio Técnico | Reparación Experta de Electrodomésticos</title>
    <meta name="description" content="Servicio técnico experto en reparación de electrodomésticos de gama blanca, industrial e instalación de aires acondicionados. Soluciones rápidas y con garantía en Barcelona, Valencia, Castellón y La Coruña.">
    <link rel="canonical" href="https://erbserviciotecnico.com/">
    <link rel="icon" href="/favicon.ico">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TQC24XCERF"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-TQC24XCERF');
    </script>

    <style>
        :root {
            --navy: #0b1a2e;
            --navy-mid: #0f2240;
            --navy-light: #163155;
            --blue: #2563eb;
            --blue-light: #3b82f6;
            --blue-bright: #60a5fa;
            --blue-dim: #1d4ed8;
            --blue-pale: #dbeafe;
            --text-primary: #0f172a;
            --text-secondary: #475569;
            --text-light: #94a3b8;
            --surface: #ffffff;
            --surface-alt: #f8fafc;
            --accent-green: #16a34a;
            --radius-sm: 8px;
            --radius-md: 16px;
            --radius-lg: 24px;
            --radius-xl: 32px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'DM Sans', sans-serif;
            color: var(--text-primary);
            background: var(--surface);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        ::selection { background: var(--navy); color: var(--blue-light); }

        .font-display { font-family: 'Playfair Display', serif; }

        /* ═══════════════════════════════
           HEADER
        ═══════════════════════════════ */
        .site-header {
            position: fixed; top: 0; left: 0; right: 0; z-index: 100;
            padding: 1rem 0;
            transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .site-header.scrolled {
            background: rgba(10, 22, 40, 0.95);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            padding: 0.5rem 0;
            box-shadow: 0 4px 30px rgba(0,0,0,0.3);
        }
        .header-inner {
            max-width: 1320px; margin: 0 auto; padding: 0 2rem;
            display: flex; align-items: center; justify-content: space-between;
        }
        .logo-link {
            display: flex; align-items: center; gap: 0.75rem;
            text-decoration: none; color: white;
        }
        .logo-link img { height: 38px; filter: brightness(1.1); transition: transform 0.3s; }
        .logo-link:hover img { transform: scale(1.05); }
        .logo-text { font-weight: 700; font-size: 1.15rem; letter-spacing: -0.02em; color: #fff; }
        .logo-text span { color: var(--blue); }

        .nav-desktop { display: none; align-items: center; gap: 0.25rem; }
        @media (min-width: 1024px) { .nav-desktop { display: flex; } }

        .nav-link {
            color: rgba(255,255,255,0.7); text-decoration: none;
            font-size: 0.875rem; font-weight: 500; padding: 0.5rem 1rem;
            border-radius: 100px; transition: all 0.3s;
            position: relative;
        }
        .nav-link:hover { color: #fff; background: rgba(255,255,255,0.08); }
        .nav-link::after {
            content: ''; position: absolute; bottom: 2px; left: 50%; width: 0; height: 2px;
            background: var(--blue); border-radius: 1px;
            transition: all 0.3s; transform: translateX(-50%);
        }
        .nav-link:hover::after { width: 20px; }

        .nav-cta {
            background: var(--blue); color: var(--navy); font-weight: 700;
            padding: 0.6rem 1.5rem; border-radius: 100px; text-decoration: none;
            font-size: 0.85rem; letter-spacing: 0.02em; margin-left: 0.75rem;
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            box-shadow: 0 2px 10px rgba(37,99,235,0.3);
        }
        .nav-cta:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(37,99,235,0.4); background: var(--blue-light); }

        .lang-btn {
            color: rgba(255,255,255,0.5); background: rgba(255,255,255,0.06);
            border: 1px solid rgba(255,255,255,0.1); border-radius: 100px;
            padding: 0.4rem 0.75rem; font-size: 0.75rem; font-weight: 600;
            cursor: pointer; transition: all 0.3s; margin-left: 0.5rem;
            font-family: inherit;
        }
        .lang-btn:hover { color: #fff; background: rgba(255,255,255,0.12); border-color: rgba(255,255,255,0.2); }

        .lang-dropdown {
            position: absolute; top: calc(100% + 8px); right: 0;
            background: white; border-radius: var(--radius-md); padding: 0.5rem;
            box-shadow: 0 20px 60px rgba(0,0,0,0.2); min-width: 140px;
            opacity: 0; visibility: hidden; transform: translateY(-8px);
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .lang-dropdown.open { opacity: 1; visibility: visible; transform: translateY(0); }
        .lang-option {
            display: block; padding: 0.6rem 1rem; font-size: 0.85rem; color: var(--text-primary);
            text-decoration: none; border-radius: var(--radius-sm); transition: background 0.2s;
            font-weight: 500;
        }
        .lang-option:hover { background: var(--surface-alt); }

        .mobile-toggle {
            display: flex; align-items: center; justify-content: center;
            width: 44px; height: 44px; border: none; background: rgba(255,255,255,0.08);
            border-radius: var(--radius-sm); cursor: pointer; color: white;
            font-size: 1.25rem; transition: background 0.3s;
        }
        .mobile-toggle:hover { background: rgba(255,255,255,0.15); }
        @media (min-width: 1024px) { .mobile-toggle { display: none; } }

        /* Mobile Menu */
        .mobile-menu {
            position: fixed; inset: 0; z-index: 200;
            background: var(--navy);
            display: flex; flex-direction: column;
            transform: translateX(100%);
            transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .mobile-menu.open { transform: translateX(0); }
        .mobile-menu-header { display: flex; justify-content: flex-end; padding: 1.5rem 2rem; }
        .mobile-menu-close {
            width: 44px; height: 44px; border: none;
            background: rgba(255,255,255,0.08); border-radius: var(--radius-sm);
            color: white; font-size: 1.25rem; cursor: pointer; transition: background 0.3s;
        }
        .mobile-menu-close:hover { background: rgba(255,255,255,0.15); }
        .mobile-menu-nav {
            flex: 1; display: flex; flex-direction: column;
            justify-content: center; align-items: center; gap: 2rem; padding: 2rem;
        }
        .mobile-menu-link {
            color: rgba(255,255,255,0.8); text-decoration: none;
            font-size: 1.75rem; font-weight: 300; letter-spacing: -0.02em;
            transition: color 0.3s; font-family: 'Playfair Display', serif;
        }
        .mobile-menu-link:hover { color: var(--blue); }
        .mobile-menu-cta {
            background: var(--blue); color: var(--navy); font-weight: 700;
            padding: 1rem 2.5rem; border-radius: 100px; text-decoration: none;
            font-size: 1.1rem; margin-top: 1rem;
        }

        /* ═══════════════════════════════
           HERO
        ═══════════════════════════════ */
        .hero {
            position: relative; min-height: 100vh; min-height: 100dvh;
            display: flex; align-items: center; overflow: hidden;
            background: var(--navy);
        }
        .hero-bg {
            position: absolute; inset: 0; z-index: 0;
            background: 
                radial-gradient(ellipse at 20% 50%, rgba(37,99,235,0.08) 0%, transparent 60%),
                radial-gradient(ellipse at 80% 20%, rgba(37,99,235,0.06) 0%, transparent 50%),
                linear-gradient(180deg, var(--navy) 0%, var(--navy-mid) 100%);
        }
        .hero-pattern {
            position: absolute; inset: 0; z-index: 1;
            background-image: 
                radial-gradient(rgba(255,255,255,0.03) 1px, transparent 1px);
            background-size: 40px 40px;
        }
        .hero-glow {
            position: absolute; width: 600px; height: 600px;
            border-radius: 50%; filter: blur(120px); opacity: 0.15;
            animation: floatGlow 12s ease-in-out infinite;
        }
        .hero-glow-1 { background: var(--blue); top: -20%; left: -10%; }
        .hero-glow-2 { background: #2563eb; bottom: -30%; right: -15%; animation-delay: -6s; }

        @keyframes floatGlow {
            0%, 100% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(40px, -30px) scale(1.15); }
        }

        .hero-content {
            position: relative; z-index: 5;
            max-width: 1320px; margin: 0 auto; padding: 8rem 2rem 4rem;
            width: 100%;
        }
        .hero-badge {
            display: inline-flex; align-items: center; gap: 0.5rem;
            background: rgba(37,99,235,0.12); border: 1px solid rgba(37,99,235,0.25);
            border-radius: 100px; padding: 0.5rem 1.25rem; margin-bottom: 2rem;
            color: var(--blue-light); font-size: 0.8rem; font-weight: 600;
            letter-spacing: 0.08em; text-transform: uppercase;
            opacity: 0; animation: heroReveal 1s 0.2s forwards;
        }
        .hero-badge i { font-size: 0.65rem; }

        .hero h1 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2.75rem, 7vw, 5.5rem);
            font-weight: 600; line-height: 1.05; letter-spacing: -0.03em;
            color: white; margin-bottom: 1.5rem; max-width: 800px;
            opacity: 0; animation: heroReveal 1s 0.4s forwards;
        }
        .hero h1 em {
            font-style: italic; color: var(--blue);
            background: linear-gradient(135deg, var(--blue-light), var(--blue-bright));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .hero-subtitle {
            font-size: clamp(1rem, 2vw, 1.25rem); color: rgba(255,255,255,0.55);
            max-width: 540px; line-height: 1.7; font-weight: 300;
            margin-bottom: 3rem;
            opacity: 0; animation: heroReveal 1s 0.6s forwards;
        }
        .hero-actions {
            display: flex; flex-wrap: wrap; gap: 1rem; align-items: center;
            opacity: 0; animation: heroReveal 1s 0.8s forwards;
        }
        .btn-primary {
            display: inline-flex; align-items: center; gap: 0.75rem;
            background: var(--blue); color: var(--navy); font-weight: 700;
            padding: 1rem 2.25rem; border-radius: 100px; text-decoration: none;
            font-size: 1rem; letter-spacing: 0.01em;
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            box-shadow: 0 4px 20px rgba(37,99,235,0.3);
            border: none; cursor: pointer; font-family: inherit;
        }
        .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 8px 30px rgba(37,99,235,0.45); background: var(--blue-light); }
        .btn-primary i { font-size: 0.85rem; }

        .btn-ghost {
            display: inline-flex; align-items: center; gap: 0.75rem;
            background: rgba(255,255,255,0.06); color: rgba(255,255,255,0.8);
            font-weight: 600; padding: 1rem 2rem; border-radius: 100px;
            text-decoration: none; font-size: 1rem;
            border: 1px solid rgba(255,255,255,0.12);
            transition: all 0.4s; cursor: pointer; font-family: inherit;
        }
        .btn-ghost:hover { background: rgba(255,255,255,0.12); color: #fff; border-color: rgba(255,255,255,0.25); }
        .btn-ghost i { color: var(--blue); }

        .hero-stats {
            display: flex; gap: 3rem; margin-top: 4rem; padding-top: 3rem;
            border-top: 1px solid rgba(255,255,255,0.08);
            opacity: 0; animation: heroReveal 1s 1s forwards;
        }
        .hero-stat-value {
            font-family: 'Playfair Display', serif;
            font-size: 2.25rem; font-weight: 700; color: var(--blue);
            line-height: 1;
        }
        .hero-stat-label { font-size: 0.8rem; color: rgba(255,255,255,0.4); margin-top: 0.5rem; font-weight: 500; letter-spacing: 0.04em; }

        @keyframes heroReveal {
            from { opacity: 0; transform: translateY(25px); filter: blur(6px); }
            to { opacity: 1; transform: translateY(0); filter: blur(0); }
        }

        .hero-scroll-hint {
            position: absolute; bottom: 2.5rem; left: 50%; transform: translateX(-50%);
            z-index: 10; color: rgba(255,255,255,0.25); cursor: pointer;
            animation: bounceHint 2.5s ease-in-out infinite;
            transition: color 0.3s;
        }
        .hero-scroll-hint:hover { color: rgba(255,255,255,0.5); }
        @keyframes bounceHint { 0%, 100% { transform: translateX(-50%) translateY(0); } 50% { transform: translateX(-50%) translateY(8px); } }

        /* ═══════════════════════════════
           TRUST BAR
        ═══════════════════════════════ */
        .trust-bar {
            background: var(--surface-alt); border-bottom: 1px solid rgba(0,0,0,0.05);
            padding: 2rem 0;
        }
        .trust-inner {
            max-width: 1320px; margin: 0 auto; padding: 0 2rem;
            display: flex; justify-content: center; align-items: center;
            flex-wrap: wrap; gap: 2rem;
        }
        .trust-label { font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-light); white-space: nowrap; }
        .trust-logos { display: flex; align-items: center; gap: 2.5rem; flex-wrap: wrap; justify-content: center; }
        .trust-logo {
            height: 28px; opacity: 0.35; filter: grayscale(100%);
            transition: all 0.5s; cursor: pointer;
        }
        .trust-logo:hover { opacity: 0.8; filter: grayscale(0%); transform: scale(1.1); }

        /* ═══════════════════════════════
           SECTIONS COMMON
        ═══════════════════════════════ */
        .section { padding: 7rem 0; }
        .section-alt { background: var(--surface-alt); }
        .container { max-width: 1320px; margin: 0 auto; padding: 0 2rem; }

        .section-header { text-align: center; margin-bottom: 4rem; }
        .section-overline {
            font-size: 0.75rem; font-weight: 700; text-transform: uppercase;
            letter-spacing: 0.15em; color: var(--blue-dim); margin-bottom: 1rem;
            display: inline-block;
        }
        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 600; color: var(--text-primary);
            letter-spacing: -0.02em; line-height: 1.15;
        }
        .section-subtitle {
            font-size: 1.05rem; color: var(--text-secondary);
            max-width: 560px; margin: 1rem auto 0; line-height: 1.7; font-weight: 300;
        }

        /* ═══════════════════════════════
           SERVICES
        ═══════════════════════════════ */
        .filter-bar { display: flex; justify-content: center; gap: 0.5rem; margin-bottom: 3rem; flex-wrap: wrap; }
        .filter-btn {
            padding: 0.6rem 1.5rem; border-radius: 100px;
            border: 1px solid rgba(0,0,0,0.08); background: white; color: var(--text-secondary);
            font-size: 0.85rem; font-weight: 600; cursor: pointer;
            transition: all 0.3s; font-family: inherit;
        }
        .filter-btn:hover { border-color: var(--navy); color: var(--navy); }
        .filter-btn.active { background: var(--navy); color: white; border-color: var(--navy); box-shadow: 0 4px 15px rgba(10,22,40,0.2); }

        .services-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.25rem; }

        .service-card {
            background: white; border: 1px solid rgba(0,0,0,0.06);
            border-radius: var(--radius-lg); padding: 2rem;
            transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            cursor: default; position: relative; overflow: hidden;
        }
        .service-card::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px;
            background: linear-gradient(90deg, var(--blue), var(--blue-light));
            transform: scaleX(0); transform-origin: left; transition: transform 0.5s;
        }
        .service-card:hover { transform: translateY(-6px); box-shadow: 0 20px 50px rgba(0,0,0,0.08); border-color: transparent; }
        .service-card:hover::before { transform: scaleX(1); }

        .service-icon {
            width: 52px; height: 52px; border-radius: var(--radius-md);
            background: linear-gradient(135deg, var(--navy), var(--navy-light));
            color: var(--blue); display: flex; align-items: center; justify-content: center;
            font-size: 1.25rem; margin-bottom: 1.25rem;
            transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .service-card:hover .service-icon { transform: scale(1.1) rotate(-5deg); }
        .service-card h3 { font-weight: 700; font-size: 1.1rem; color: var(--text-primary); margin-bottom: 0.5rem; }
        .service-card p { font-size: 0.9rem; color: var(--text-secondary); line-height: 1.6; }
        .service-card .service-tag {
            display: inline-block; font-size: 0.65rem; font-weight: 700; text-transform: uppercase;
            letter-spacing: 0.08em; padding: 0.25rem 0.6rem; border-radius: 100px;
            margin-top: 1rem;
        }
        .service-tag.domestico { background: #eff6ff; color: #2563eb; }
        .service-tag.industrial { background: #e0e7ff; color: #3730a3; }

        .service-card.card-hidden { display: none !important; }

        /* ═══════════════════════════════
           BENEFITS
        ═══════════════════════════════ */
        .benefits-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 1.5rem; }
        .benefit-card {
            background: white; border: 1px solid rgba(0,0,0,0.05);
            border-radius: var(--radius-lg); padding: 2.5rem 2rem; text-align: center;
            transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            position: relative;
        }
        .benefit-card:hover { transform: translateY(-8px); box-shadow: 0 25px 60px rgba(0,0,0,0.08); }
        .benefit-icon {
            width: 64px; height: 64px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            margin: 0 auto 1.5rem; font-size: 1.5rem;
            transition: all 0.5s;
        }
        .benefit-card:nth-child(1) .benefit-icon { background: linear-gradient(135deg, #dbeafe, #bfdbfe); color: #1d4ed8; }
        .benefit-card:nth-child(2) .benefit-icon { background: linear-gradient(135deg, #e0f2fe, #bae6fd); color: #0369a1; }
        .benefit-card:nth-child(3) .benefit-icon { background: linear-gradient(135deg, #e0e7ff, #c7d2fe); color: #4338ca; }
        .benefit-card:nth-child(4) .benefit-icon { background: linear-gradient(135deg, #eff6ff, #dbeafe); color: #1e40af; }

        .benefit-card:hover .benefit-icon { transform: scale(1.15) rotate(-8deg); }
        .benefit-card h3 { font-weight: 700; font-size: 1.1rem; margin-bottom: 0.75rem; color: var(--text-primary); }
        .benefit-card p { font-size: 0.9rem; color: var(--text-secondary); line-height: 1.65; }

        /* ═══════════════════════════════
           BRANDS
        ═══════════════════════════════ */
        .brands-section { background: var(--navy); padding: 5rem 0; position: relative; overflow: hidden; }
        .brands-section::before {
            content: ''; position: absolute; inset: 0;
            background-image: radial-gradient(rgba(255,255,255,0.03) 1px, transparent 1px);
            background-size: 30px 30px;
        }
        .brands-title { text-align: center; color: rgba(255,255,255,0.4); font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.15em; margin-bottom: 2.5rem; position: relative; z-index: 1; }
        .brands-logos {
            display: flex; justify-content: center; align-items: center;
            gap: 3rem; flex-wrap: wrap; position: relative; z-index: 1;
        }
        .brand-item {
            padding: 1rem 1.5rem; border-radius: var(--radius-md);
            background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.06);
            transition: all 0.5s;
        }
        .brand-item:hover { background: rgba(255,255,255,0.1); border-color: rgba(255,255,255,0.15); transform: translateY(-4px); }
        .brand-item img { height: 32px; filter: brightness(0) invert(1); opacity: 0.5; transition: opacity 0.5s; }
        .brand-item:hover img { opacity: 0.9; }

        /* ═══════════════════════════════
           TESTIMONIALS
        ═══════════════════════════════ */
        .testimonial-form-wrapper {
            max-width: 680px; margin: 0 auto 4rem;
            background: white; border: 1px solid rgba(0,0,0,0.06);
            border-radius: var(--radius-xl); padding: 3rem;
            box-shadow: 0 20px 60px rgba(0,0,0,0.05);
            position: relative;
        }
        .testimonial-form-wrapper::before {
            content: ''; position: absolute; top: 0; left: 2rem; right: 2rem; height: 3px;
            background: linear-gradient(90deg, var(--blue), transparent); border-radius: 0 0 2px 2px;
        }
        .form-title { font-family: 'Playfair Display', serif; font-size: 1.5rem; font-weight: 600; text-align: center; margin-bottom: 2rem; color: var(--text-primary); }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem; }
        @media (max-width: 640px) { .form-grid { grid-template-columns: 1fr; } }

        .form-group label {
            display: block; font-size: 0.8rem; font-weight: 600; color: var(--text-secondary);
            margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.05em;
        }
        .form-input {
            width: 100%; padding: 0.85rem 1.15rem;
            border: 1px solid rgba(0,0,0,0.1); border-radius: var(--radius-md);
            font-size: 0.95rem; font-family: inherit; background: var(--surface-alt);
            transition: all 0.3s; outline: none; color: var(--text-primary);
        }
        .form-input:focus { border-color: var(--navy); box-shadow: 0 0 0 3px rgba(10,22,40,0.08); background: white; }
        textarea.form-input { resize: none; }
        select.form-input { cursor: pointer; appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%235a5a72' d='M6 8L1 3h10z'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 1rem center; }

        .star-rating { display: flex; gap: 0.5rem; padding: 0.75rem 0; }
        .star-rating .fa-star {
            font-size: 1.5rem; color: #d1d5db; cursor: pointer;
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .star-rating .fa-star:hover { transform: scale(1.25) rotate(10deg); }
        .star-rating .fa-star.selected { color: var(--blue); }

        .btn-submit {
            width: 100%; padding: 1rem; border: none; border-radius: var(--radius-md);
            background: var(--navy); color: white; font-weight: 700; font-size: 1rem;
            cursor: pointer; font-family: inherit; transition: all 0.4s;
            box-shadow: 0 4px 15px rgba(10,22,40,0.2);
        }
        .btn-submit:hover { background: var(--navy-light); transform: translateY(-2px); box-shadow: 0 8px 25px rgba(10,22,40,0.3); }
        .btn-submit:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }

        .auth-box {
            text-align: center; margin-bottom: 2rem; padding-bottom: 2rem;
            border-bottom: 1px solid rgba(0,0,0,0.06);
        }
        .google-btn {
            display: inline-flex; align-items: center; gap: 0.75rem;
            background: white; border: 1px solid rgba(0,0,0,0.12);
            padding: 0.75rem 1.5rem; border-radius: 100px; cursor: pointer;
            font-size: 0.9rem; font-weight: 600; font-family: inherit;
            transition: all 0.3s; color: var(--text-primary);
        }
        .google-btn:hover { box-shadow: 0 4px 15px rgba(0,0,0,0.08); transform: translateY(-2px); }
        .google-btn img { width: 20px; height: 20px; }

        .user-badge {
            display: inline-flex; align-items: center; gap: 0.5rem;
            background: #eff6ff; border: 1px solid #bfdbfe; border-radius: 100px;
            padding: 0.5rem 1.25rem; font-size: 0.85rem; color: #1d4ed8; font-weight: 600;
        }
        .signout-link { font-size: 0.75rem; color: #ef4444; cursor: pointer; text-decoration: underline; margin-top: 0.5rem; display: inline-block; background: none; border: none; font-family: inherit; }

        .testimonials-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 1.25rem; }
        .testimonial-card {
            background: white; border: 1px solid rgba(0,0,0,0.06);
            border-radius: var(--radius-lg); padding: 2rem;
            transition: all 0.5s; position: relative;
        }
        .testimonial-card:hover { transform: translateY(-4px); box-shadow: 0 15px 40px rgba(0,0,0,0.06); }
        .testimonial-card .quote-icon {
            font-family: 'Playfair Display', serif; font-size: 4rem; color: var(--blue);
            opacity: 0.15; line-height: 1; position: absolute; top: 1rem; right: 1.5rem;
        }
        .testimonial-header { display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem; }
        .testimonial-avatar {
            width: 42px; height: 42px; border-radius: 50%;
            background: var(--navy); color: var(--blue);
            display: flex; align-items: center; justify-content: center;
            font-weight: 700; font-size: 1rem;
        }
        .testimonial-name { font-weight: 700; font-size: 0.95rem; color: var(--text-primary); }
        .testimonial-stars { display: flex; gap: 2px; font-size: 0.75rem; }
        .testimonial-stars .fa-star.on { color: var(--blue); }
        .testimonial-stars .fa-star.off { color: #d1d5db; }
        .testimonial-text { font-size: 0.92rem; color: var(--text-secondary); line-height: 1.7; font-style: italic; }

        /* ═══════════════════════════════
           CONTACT
        ═══════════════════════════════ */
        .contact-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; align-items: start; }
        @media (max-width: 1024px) { .contact-grid { grid-template-columns: 1fr; } }

        .contact-form-card {
            background: white; border: 1px solid rgba(0,0,0,0.06);
            border-radius: var(--radius-xl); padding: 3rem;
            box-shadow: 0 20px 60px rgba(0,0,0,0.05);
            position: relative; overflow: hidden;
        }
        .contact-form-card::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px;
            background: linear-gradient(90deg, var(--navy), var(--blue));
        }

        .contact-sidebar { display: flex; flex-direction: column; gap: 1.5rem; }
        .contact-info-card {
            background: white; border: 1px solid rgba(0,0,0,0.06);
            border-radius: var(--radius-lg); padding: 2rem;
            transition: all 0.4s;
        }
        .contact-info-card:hover { transform: translateY(-4px); box-shadow: 0 15px 40px rgba(0,0,0,0.06); }
        .info-card-title { font-weight: 700; font-size: 1.1rem; color: var(--text-primary); margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 1px solid rgba(0,0,0,0.06); }
        .info-item { display: flex; align-items: center; gap: 1rem; padding: 0.75rem 0; }
        .info-icon {
            width: 44px; height: 44px; border-radius: var(--radius-sm);
            display: flex; align-items: center; justify-content: center;
            font-size: 1.1rem; flex-shrink: 0;
        }
        .info-icon.phone { background: #eff6ff; color: #2563eb; }
        .info-icon.email { background: #e0e7ff; color: #4338ca; }
        .info-icon.whatsapp { background: #dcfce7; color: #16a34a; }
        .info-text { font-size: 0.95rem; font-weight: 500; color: var(--text-primary); }
        .info-text a { color: inherit; text-decoration: none; transition: color 0.3s; }
        .info-text a:hover { color: var(--blue); }

        .map-card {
            border-radius: var(--radius-lg); overflow: hidden;
            border: 1px solid rgba(0,0,0,0.06); background: white;
        }
        .map-card #map { height: 280px; width: 100%; filter: saturate(0.8); transition: filter 0.5s; }
        .map-card:hover #map { filter: saturate(1); }
        #map-error-message {
            height: 280px; display: none; flex-direction: column;
            justify-content: center; align-items: center; background: var(--surface-alt);
            color: var(--text-light);
        }
        #map-error-message.show { display: flex; }
        #map-error-message i { font-size: 2.5rem; margin-bottom: 1rem; opacity: 0.4; }

        /* ═══════════════════════════════
           FOOTER
        ═══════════════════════════════ */
        .site-footer {
            background: var(--navy); color: rgba(255,255,255,0.4);
            padding: 4rem 0 2rem; position: relative; overflow: hidden;
        }
        .site-footer::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; height: 1px;
            background: linear-gradient(90deg, transparent, rgba(37,99,235,0.3), transparent);
        }
        .footer-inner { text-align: center; }
        .footer-logo { height: 48px; opacity: 0.4; margin-bottom: 1.5rem; transition: opacity 0.5s; filter: brightness(1.2); }
        .footer-logo:hover { opacity: 0.7; }
        .footer-copyright { font-size: 0.8rem; margin-bottom: 1.5rem; }
        .footer-links { display: flex; justify-content: center; gap: 2rem; flex-wrap: wrap; }
        .footer-link { color: rgba(255,255,255,0.35); text-decoration: none; font-size: 0.8rem; font-weight: 500; transition: color 0.3s; }
        .footer-link:hover { color: rgba(255,255,255,0.7); }

        /* ═══════════════════════════════
           MODAL
        ═══════════════════════════════ */
        .modal-overlay {
            position: fixed; inset: 0; z-index: 300;
            background: rgba(10,22,40,0.8); backdrop-filter: blur(10px);
            display: none; align-items: center; justify-content: center; padding: 2rem;
            opacity: 0; transition: opacity 0.4s;
        }
        .modal-overlay.open { display: flex; opacity: 1; }
        .modal-box {
            background: white; border-radius: var(--radius-xl); padding: 3rem;
            max-width: 420px; width: 100%; text-align: center;
            transform: scale(0.9); transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .modal-overlay.open .modal-box { transform: scale(1); }
        .modal-check {
            width: 72px; height: 72px; border-radius: 50%;
            background: #dbeafe; color: #2563eb; display: flex;
            align-items: center; justify-content: center; margin: 0 auto 1.5rem;
            font-size: 2rem;
        }
        .modal-title { font-family: 'Playfair Display', serif; font-size: 1.5rem; font-weight: 600; margin-bottom: 0.75rem; }
        .modal-text { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.6; margin-bottom: 2rem; }

        /* ═══════════════════════════════
           SCROLL ANIMATIONS
        ═══════════════════════════════ */
        .reveal {
            opacity: 0; transform: translateY(30px); filter: blur(4px);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .reveal.visible { opacity: 1; transform: translateY(0); filter: blur(0); }
        .reveal.d1 { transition-delay: 100ms; }
        .reveal.d2 { transition-delay: 200ms; }
        .reveal.d3 { transition-delay: 300ms; }
        .reveal.d4 { transition-delay: 400ms; }

        /* ═══════════════════════════════
           UTILS
        ═══════════════════════════════ */
        .hidden { display: none !important; }
        .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }

        /* ═══════════════════════════════
           RESPONSIVE
        ═══════════════════════════════ */
        @media (max-width: 768px) {
            .hero-stats { gap: 1.5rem; flex-wrap: wrap; }
            .hero-stat-value { font-size: 1.75rem; }
            .section { padding: 5rem 0; }
            .contact-form-card { padding: 2rem; }
            .testimonial-form-wrapper { padding: 2rem; }
        }
    </style>
</head>
<body>

    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": "ERB Servicio Técnico",
      "image": "https://erbserviciotecnico.com/logo.png",
      "@id": "https://erbserviciotecnico.com/",
      "url": "https://erbserviciotecnico.com/",
      "telephone": "+34612548508",
      "priceRange": "$$",
      "address": { "@type": "PostalAddress", "addressCountry": "ES" },
      "areaServed": ["Barcelona", "Coruña", "Valencia", "Castellón de la Plana"],
      "aggregateRating": { "@type": "AggregateRating", "ratingValue": "4.8", "reviewCount": "25" }
    }
    </script>

    <!-- ════════════════ HEADER ════════════════ -->
    <header class="site-header" id="site-header">
        <div class="header-inner">
            <a href="#inicio" class="logo-link">
                <img src="/logo.png" alt="ERB Servicio Técnico" onerror="this.onerror=null;this.style.display='none';this.nextElementSibling.style.display='inline';">
                <span class="logo-text" style="display:none;">ERB <span>Servicio Técnico</span></span>
            </a>

            <nav class="nav-desktop">
                <a href="#inicio" class="nav-link" data-lang="nav_home">Inicio</a>
                <a href="#servicios" class="nav-link" data-lang="nav_services">Servicios</a>
                <a href="#beneficios" class="nav-link" data-lang="nav_benefits">Beneficios</a>
                <a href="#marcas" class="nav-link" data-lang="nav_brands">Marcas</a>
                <a href="#testimonios" class="nav-link" data-lang="nav_testimonials">Testimonios</a>
                <a href="#contacto" class="nav-cta" data-lang="nav_contact">Contacto</a>
                <div style="position:relative;">
                    <button class="lang-btn" id="lang-toggle-desktop">
                        <i class="fas fa-globe" style="margin-right:4px;"></i>
                        <span id="lang-current-desktop">ES</span>
                    </button>
                    <div class="lang-dropdown" id="lang-dropdown-desktop">
                        <a href="#" class="lang-option" data-lang-option="es">Español</a>
                        <a href="#" class="lang-option" data-lang-option="ca">Català</a>
                        <a href="#" class="lang-option" data-lang-option="va">Valencià</a>
                    </div>
                </div>
            </nav>

            <div style="display:flex;align-items:center;gap:0.5rem;" class="lg-hidden">
                <div style="position:relative;">
                    <button class="lang-btn" id="lang-toggle-mobile">
                        <i class="fas fa-globe" style="margin-right:4px;"></i>
                        <span id="lang-current-mobile">ES</span>
                    </button>
                    <div class="lang-dropdown" id="lang-dropdown-mobile">
                        <a href="#" class="lang-option" data-lang-option="es">Español</a>
                        <a href="#" class="lang-option" data-lang-option="ca">Català</a>
                        <a href="#" class="lang-option" data-lang-option="va">Valencià</a>
                    </div>
                </div>
                <button class="mobile-toggle" id="mobile-menu-btn" aria-label="Abrir menú">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>
    <style>@media (min-width: 1024px) { .lg-hidden { display: none !important; } }</style>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobile-menu">
        <div class="mobile-menu-header">
            <button class="mobile-menu-close" id="mobile-menu-close"><i class="fas fa-times"></i></button>
        </div>
        <nav class="mobile-menu-nav">
            <a href="#inicio" class="mobile-menu-link" data-lang="nav_home">Inicio</a>
            <a href="#servicios" class="mobile-menu-link" data-lang="nav_services">Servicios</a>
            <a href="#beneficios" class="mobile-menu-link" data-lang="nav_benefits">Beneficios</a>
            <a href="#testimonios" class="mobile-menu-link" data-lang="nav_testimonials">Testimonios</a>
            <a href="#contacto" class="mobile-menu-cta" data-lang="nav_contact">Contacto</a>
        </nav>
    </div>

    <!-- ════════════════ HERO ════════════════ -->
    <section class="hero" id="inicio">
        <div class="hero-bg"></div>
        <div class="hero-pattern"></div>
        <div class="hero-glow hero-glow-1"></div>
        <div class="hero-glow hero-glow-2"></div>

        <div class="hero-content">
            <div class="hero-badge"><i class="fas fa-circle" style="font-size:6px;color:var(--blue);"></i> <span>Servicio Técnico de Confianza</span></div>
            <h1 data-lang="hero_h1">Reparación de<br><em>Electrodomésticos</em></h1>
            <p class="hero-subtitle" data-lang="hero_subtitle">Especialistas en gama blanca, industrial y climatización. Rapidez, confianza y garantía absoluta en cada reparación.</p>
            <div class="hero-actions">
                <a href="#contacto" class="btn-primary" data-lang="hero_cta"><i class="fas fa-arrow-right"></i> Solicita Presupuesto</a>
                <a href="tel:+34612548508" class="btn-ghost"><i class="fas fa-phone"></i> <span>612 548 508</span></a>
            </div>
            <div class="hero-stats">
                <div>
                    <div class="hero-stat-value">6</div>
                    <div class="hero-stat-label" data-lang="stat_warranty">Meses de garantía</div>
                </div>
                <div>
                    <div class="hero-stat-value">4</div>
                    <div class="hero-stat-label" data-lang="stat_cities">Ciudades de cobertura</div>
                </div>
                <div>
                    <div class="hero-stat-value">4.8★</div>
                    <div class="hero-stat-label" data-lang="stat_rating">Valoración media</div>
                </div>
            </div>
        </div>

        <div class="hero-scroll-hint" onclick="document.getElementById('servicios').scrollIntoView({behavior:'smooth'})">
            <i class="fas fa-chevron-down" style="font-size:1.5rem;"></i>
        </div>
    </section>

    <!-- ════════════════ TRUST BAR / BRANDS ════════════════ -->
    <section class="trust-bar" id="marcas">
        <div class="trust-inner">
            <span class="trust-label" data-lang="brands_title">Expertos en las mejores marcas</span>
            <div class="trust-logos">
                <img src="/samsung-logo-wordmark-rgb.png" alt="Samsung" class="trust-logo" onerror="this.onerror=null;this.alt='Samsung';this.style.fontSize='1.2rem';this.style.fontWeight='700';this.style.opacity='0.3';this.outerHTML='<span style=\'font-weight:700;font-size:1.1rem;opacity:0.3;color:var(--text-primary);transition:opacity 0.5s;cursor:pointer;\' onmouseover=\'this.style.opacity=0.8\' onmouseout=\'this.style.opacity=0.3\'>SAMSUNG</span>';">
                <img src="/lg-logo-1.png" alt="LG" class="trust-logo" onerror="this.outerHTML='<span style=\'font-weight:700;font-size:1.1rem;opacity:0.3;color:var(--text-primary);transition:opacity 0.5s;cursor:pointer;\' onmouseover=\'this.style.opacity=0.8\' onmouseout=\'this.style.opacity=0.3\'>LG</span>';">
                <img src="/balay.png" alt="Balay" class="trust-logo" onerror="this.outerHTML='<span style=\'font-weight:700;font-size:1.1rem;opacity:0.3;color:var(--text-primary);transition:opacity 0.5s;cursor:pointer;\' onmouseover=\'this.style.opacity=0.8\' onmouseout=\'this.style.opacity=0.3\'>BALAY</span>';">
                <img src="/bosch.png" alt="Bosch" class="trust-logo" onerror="this.outerHTML='<span style=\'font-weight:700;font-size:1.1rem;opacity:0.3;color:var(--text-primary);transition:opacity 0.5s;cursor:pointer;\' onmouseover=\'this.style.opacity=0.8\' onmouseout=\'this.style.opacity=0.3\'>BOSCH</span>';">
                <img src="/siemens-Photoroom.png" alt="Siemens" class="trust-logo" onerror="this.outerHTML='<span style=\'font-weight:700;font-size:1.1rem;opacity:0.3;color:var(--text-primary);transition:opacity 0.5s;cursor:pointer;\' onmouseover=\'this.style.opacity=0.8\' onmouseout=\'this.style.opacity=0.3\'>SIEMENS</span>';">
            </div>
        </div>
    </section>

    <!-- ════════════════ SERVICES ════════════════ -->
    <section class="section" id="servicios">
        <div class="container">
            <div class="section-header reveal">
                <div class="section-overline" data-lang="services_overline">Lo que hacemos</div>
                <h2 class="section-title" data-lang="services_title">Nuestros Servicios</h2>
                <p class="section-subtitle" data-lang="services_intro">Soluciones técnicas avanzadas para extender la vida útil de sus equipos.</p>
            </div>
            <div class="filter-bar reveal d1">
                <button class="filter-btn active" data-filter="all" data-lang="filter_all">Todos</button>
                <button class="filter-btn" data-filter="domestico" data-lang="filter_domestic">Doméstico</button>
                <button class="filter-btn" data-filter="industrial" data-lang="filter_industrial">Industrial</button>
            </div>
            <div class="services-grid" id="service-list"></div>
        </div>
    </section>

    <!-- ════════════════ BENEFITS ════════════════ -->
    <section class="section section-alt" id="beneficios">
        <div class="container">
            <div class="section-header reveal">
                <div class="section-overline" data-lang="benefits_overline">Nuestras ventajas</div>
                <h2 class="section-title" data-lang="benefits_title">Por Qué Elegirnos</h2>
            </div>
            <div class="benefits-grid">
                <div class="benefit-card reveal d1">
                    <div class="benefit-icon"><i class="fas fa-phone-volume"></i></div>
                    <h3 data-lang="benefit1_title">Atención Inmediata</h3>
                    <p data-lang="benefit1_desc">Respuesta rápida a través de nuestros canales oficiales. Llámanos o escríbenos por WhatsApp.</p>
                </div>
                <div class="benefit-card reveal d2">
                    <div class="benefit-icon"><i class="fas fa-truck-fast"></i></div>
                    <h3 data-lang="benefit2_title">Desplazamiento Gratis</h3>
                    <p data-lang="benefit2_desc">Sin coste de desplazamiento al aceptar el presupuesto de reparación en el acto.</p>
                </div>
                <div class="benefit-card reveal d3">
                    <div class="benefit-icon"><i class="fas fa-shield-halved"></i></div>
                    <h3 data-lang="benefit3_title">6 Meses de Garantía</h3>
                    <p data-lang="benefit3_desc">Tranquilidad total con nuestra garantía extendida en todas las reparaciones.</p>
                </div>
                <div class="benefit-card reveal d4">
                    <div class="benefit-icon"><i class="fas fa-euro-sign"></i></div>
                    <h3 data-lang="benefit4_title">Precios Justos</h3>
                    <p data-lang="benefit4_desc">Tarifas competitivas y transparentes desde el primer momento sin sorpresas.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ════════════════ TESTIMONIALS ════════════════ -->
    <section class="section" id="testimonios">
        <div class="container">
            <div class="section-header reveal">
                <div class="section-overline" data-lang="testimonials_overline">Opiniones reales</div>
                <h2 class="section-title" data-lang="testimonials_title">Opiniones de Clientes</h2>
            </div>

            <div class="testimonial-form-wrapper reveal">
                <h3 class="form-title" data-lang="testimonial_form_title">Comparte tu Experiencia</h3>

                <div class="auth-box" id="auth-container">
                    <div id="user-info" class="hidden" style="margin-bottom:1rem;">
                        <div class="user-badge"><i class="fas fa-user-check"></i> <span data-lang="testimonial_logged_in_as">Conectado como:</span> <span id="user-display-name" style="font-weight:700;"></span></div>
                        <br>
                        <button id="signout-btn" class="signout-link" data-lang="testimonial_sign_out">Cerrar Sesión</button>
                    </div>
                    <button id="google-signin-btn" class="google-btn">
                        <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google">
                        <span data-lang="testimonial_signin_google">Iniciar sesión con Google</span>
                    </button>
                </div>

                <form id="testimonialForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="testimonialNombre" data-lang="testimonial_form_name">Nombre</label>
                            <input type="text" id="testimonialNombre" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label data-lang="testimonial_form_rating">Calificación</label>
                            <div class="star-rating" id="ratingStars">
                                <i class="fas fa-star" data-rating="1"></i>
                                <i class="fas fa-star" data-rating="2"></i>
                                <i class="fas fa-star" data-rating="3"></i>
                                <i class="fas fa-star" data-rating="4"></i>
                                <i class="fas fa-star" data-rating="5"></i>
                            </div>
                            <input type="hidden" id="ratingValue" required>
                            <p id="ratingError" class="hidden" style="color:#ef4444;font-size:0.75rem;font-weight:600;margin-top:0.25rem;" data-lang="testimonial_form_rating_required">Selecciona una estrella.</p>
                        </div>
                    </div>
                    <div class="form-group" style="margin-bottom:1.5rem;">
                        <label for="testimonialMensaje" data-lang="testimonial_form_message">Tu Opinión</label>
                        <textarea id="testimonialMensaje" rows="4" class="form-input" required></textarea>
                    </div>
                    <button type="submit" id="submitTestimonial" class="btn-submit" data-lang="testimonial_form_submit">
                        <i class="fas fa-paper-plane" style="margin-right:0.5rem;"></i> Enviar Opinión
                    </button>
                    <div id="testimonial-loading-spinner" class="hidden" style="text-align:center;margin-top:1.5rem;">
                        <i class="fas fa-circle-notch fa-spin" style="font-size:1.5rem;color:var(--navy);"></i>
                    </div>
                    <div id="testimonialFormStatus" style="margin-top:1rem;text-align:center;font-weight:600;font-size:0.9rem;"></div>
                </form>
            </div>

            <div id="testimonials-container" class="testimonials-grid"></div>
        </div>
    </section>

    <!-- ════════════════ CONTACT ════════════════ -->
    <section class="section section-alt" id="contacto">
        <div class="container">
            <div class="section-header reveal">
                <div class="section-overline" data-lang="contact_overline">Estamos cerca</div>
                <h2 class="section-title" data-lang="contact_title">Contacta con Nosotros</h2>
                <p class="section-subtitle" data-lang="contact_subtitle">Estamos listos para resolver tu avería hoy mismo.</p>
            </div>

            <div class="contact-grid">
                <div class="contact-form-card reveal d1">
                    <form id="contact-form" action="https://formspree.io/f/mnnjjzpl" method="POST">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="nombre" data-lang="form_name">Nombre Completo</label>
                                <input type="text" name="nombre" id="nombre" class="form-input" required>
                            </div>
                            <div class="form-group">
                                <label for="telefono" data-lang="form_phone">Teléfono</label>
                                <input type="tel" name="telefono" id="telefono" class="form-input" required>
                            </div>
                        </div>
                        <div class="form-group" style="margin:1rem 0;">
                            <label for="ubicacion" data-lang="form_location">¿Dónde te encuentras?</label>
                            <select name="ubicacion" id="ubicacion" class="form-input">
                                <option value="barcelona" data-lang="loc_barcelona">Barcelona</option>
                                <option value="la_coruna" data-lang="loc_coruna">La Coruña</option>
                                <option value="valencia" data-lang="loc_valencia">Valencia</option>
                                <option value="castellon" data-lang="loc_castellon">Castellón de la Plana</option>
                            </select>
                        </div>
                        <div class="form-group" style="margin-bottom:1rem;">
                            <label for="equipo" data-lang="form_appliance">Tipo de Servicio</label>
                            <select name="equipo" id="equipo" class="form-input" required></select>
                        </div>
                        <div class="form-group" style="margin-bottom:1.5rem;">
                            <label for="mensaje" data-lang="form_message">Descripción del Problema</label>
                            <textarea name="mensaje" id="mensaje" rows="4" class="form-input" required></textarea>
                        </div>
                        <button type="submit" class="btn-submit" style="background:var(--navy);">
                            <span data-lang="form_submit">Solicitar Reparación</span> <i class="fas fa-arrow-right" style="margin-left:0.5rem;"></i>
                        </button>
                    </form>
                </div>

                <div class="contact-sidebar reveal d2">
                    <div class="contact-info-card">
                        <div class="info-card-title" data-lang="contact_info_title">Información de Contacto</div>
                        <div class="info-item">
                            <div class="info-icon phone"><i class="fas fa-phone-alt"></i></div>
                            <div class="info-text"><a href="tel:+34612548508" data-lang="contact_phone_text">+34 612 548 508</a></div>
                        </div>
                        <div class="info-item">
                            <div class="info-icon email"><i class="fas fa-envelope"></i></div>
                            <div class="info-text"><a href="mailto:serviciotecnico.erb@gmail.com" data-lang="contact_email_text">serviciotecnico.erb@gmail.com</a></div>
                        </div>
                        <div class="info-item">
                            <div class="info-icon whatsapp"><i class="fab fa-whatsapp" style="font-size:1.3rem;"></i></div>
                            <div class="info-text"><a href="https://wa.me/34612548508" target="_blank" data-lang="contact_whatsapp_text">WhatsApp Directo</a></div>
                        </div>
                    </div>
                    <div class="map-card">
                        <div id="map"></div>
                        <div id="map-error-message">
                            <i class="fas fa-map-marked-alt"></i>
                            <p style="font-weight:600;font-size:0.9rem;" data-lang="map_error_title">Mapa no disponible</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ════════════════ FOOTER ════════════════ -->
    <footer class="site-footer">
        <div class="container footer-inner">
            <img src="/logo.png" alt="ERB Logo" class="footer-logo" onerror="this.onerror=null;this.outerHTML='<div style=\'font-size:1.5rem;font-weight:700;color:rgba(255,255,255,0.4);margin-bottom:1.5rem;font-family:Playfair Display,serif;\'>ERB<span style=\'color:var(--blue);\'>.</span></div>';">
            <p class="footer-copyright" data-lang="footer_copyright">© 2025 ERB Servicio Técnico de Electrodomésticos</p>
            <div class="footer-links">
                <a href="/politica-privacidad.html" class="footer-link" data-lang="footer_privacy">Política de Privacidad</a>
                <a href="/aviso-legal.html" class="footer-link" data-lang="footer_legal">Aviso Legal</a>
                <a href="/politica-cookies.html" class="footer-link" data-lang="footer_cookies">Política de Cookies</a>
            </div>
        </div>
    </footer>

    <!-- ════════════════ SUCCESS MODAL ════════════════ -->
    <div class="modal-overlay" id="success-modal">
        <div class="modal-box">
            <div class="modal-check"><i class="fas fa-check"></i></div>
            <h3 class="modal-title" data-lang="form_success_modal_title">¡Mensaje Enviado!</h3>
            <p class="modal-text" data-lang="form_success_modal_text">Gracias por contactarnos. Un técnico se pondrá en contacto contigo muy pronto.</p>
            <button class="btn-primary" id="close-modal-btn" style="width:100%;justify-content:center;" data-lang="form_success_modal_close">Cerrar</button>
        </div>
    </div>

    <!-- ════════════════ SCRIPTS ════════════════ -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, onAuthStateChanged, GoogleAuthProvider, signInWithPopup, signOut, signInAnonymously } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { getFirestore, collection, addDoc, query, orderBy, limit, getDocs, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        // ══════════ FIREBASE CONFIG ══════════
        const firebaseConfig = {
            // apiKey: "AIzaSy...",
            // authDomain: "tu-proyecto.firebaseapp.com",
            // projectId: "tu-proyecto",
            // storageBucket: "tu-proyecto.appspot.com",
            // messagingSenderId: "123456789",
            // appId: "1:123456789:web:abcdef"
        };

        const appId = firebaseConfig.projectId || "erb-servicio-tecnico-default";

        let app, auth, db;
        try {
            if (Object.keys(firebaseConfig).length > 0) {
                app = initializeApp(firebaseConfig);
                auth = getAuth(app);
                db = getFirestore(app);
            }
        } catch (e) { console.error("Firebase init error:", e); }

        // ══════════ TRANSLATIONS ══════════
        const translations = {
            es: {
                nav_home: "Inicio", nav_services: "Servicios", nav_benefits: "Beneficios", nav_brands: "Marcas", nav_testimonials: "Testimonios", nav_contact: "Contacto",
                hero_h1: "Reparación de<br><em>Electrodomésticos</em>", hero_subtitle: "Especialistas en gama blanca, industrial y climatización. Rapidez, confianza y garantía absoluta en cada reparación.", hero_cta: "Solicita Presupuesto",
                stat_warranty: "Meses de garantía", stat_cities: "Ciudades de cobertura", stat_rating: "Valoración media",
                brands_title: "Expertos en las mejores marcas",
                services_overline: "Lo que hacemos", services_title: "Nuestros Servicios", services_intro: "Soluciones técnicas avanzadas para extender la vida útil de sus equipos.",
                filter_all: "Todos", filter_domestic: "Doméstico", filter_industrial: "Industrial",
                benefits_overline: "Nuestras ventajas", benefits_title: "Por Qué Elegirnos",
                benefit1_title: "Atención Inmediata", benefit1_desc: "Respuesta rápida a través de nuestros canales oficiales. Llámanos o escríbenos por WhatsApp.",
                benefit2_title: "Desplazamiento Gratis", benefit2_desc: "Sin coste de desplazamiento al aceptar el presupuesto de reparación en el acto.",
                benefit3_title: "6 Meses de Garantía", benefit3_desc: "Tranquilidad total con nuestra garantía extendida en todas las reparaciones.",
                benefit4_title: "Precios Justos", benefit4_desc: "Tarifas competitivas y transparentes desde el primer momento sin sorpresas.",
                testimonials_overline: "Opiniones reales", testimonials_title: "Opiniones de Clientes",
                testimonial_form_title: "Comparte tu Experiencia", testimonial_logged_in_as: "Conectado como:", testimonial_sign_out: "Cerrar Sesión", testimonial_signin_google: "Iniciar sesión con Google",
                testimonial_form_name: "Nombre", testimonial_form_rating: "Calificación", testimonial_form_rating_required: "Selecciona una estrella.", testimonial_form_message: "Tu Opinión", testimonial_form_submit: "Enviar Opinión",
                contact_overline: "Estamos cerca", contact_title: "Contacta con Nosotros", contact_subtitle: "Estamos listos para resolver tu avería hoy mismo.",
                form_name: "Nombre Completo", form_phone: "Teléfono", form_location: "¿Dónde te encuentras?", form_appliance: "Tipo de Servicio", form_message: "Descripción del Problema", form_submit: "Solicitar Reparación",
                contact_info_title: "Información de Contacto", contact_phone_text: "+34 612 548 508", contact_email_text: "serviciotecnico.erb@gmail.com", contact_whatsapp_text: "WhatsApp Directo",
                footer_copyright: "© 2025 ERB Servicio Técnico de Electrodomésticos", footer_privacy: "Política de Privacidad", footer_legal: "Aviso Legal", footer_cookies: "Política de Cookies",
                form_success_modal_title: "¡Mensaje Enviado!", form_success_modal_text: "Gracias por contactarnos. Un técnico se pondrá en contacto contigo muy pronto.", form_success_modal_close: "Cerrar",
                map_error_title: "Mapa no disponible",
                service_ac_title: "Aire Acondicionado", service_ac_desc: "Instalación, mantenimiento y reparación de sistemas de climatización.",
                service_washing_machine_title: "Lavadoras", service_washing_machine_desc: "Reparación de centrifugado, fugas de agua y problemas eléctricos.",
                service_dishwasher_title: "Lavavajillas", service_dishwasher_desc: "Solución de problemas de limpieza, desagüe y componentes.",
                service_oven_title: "Hornos", service_oven_desc: "Diagnóstico y reparación de fallos de temperatura y resistencias.",
                service_dryer_title: "Secadoras", service_dryer_desc: "Reparación cuando no seca correctamente o hace ruidos anormales.",
                service_cooktop_title: "Vitrocerámicas", service_cooktop_desc: "Reparación de placas de inducción y vitrocerámicas eléctricas.",
                service_water_heater_title: "Calentadores", service_water_heater_desc: "Reparación de calentadores de gas y eléctricos.",
                service_boiler_title: "Calderas", service_boiler_desc: "Mantenimiento preventivo y reparación de averías.",
                service_thermotank_title: "Termos Eléctricos", service_thermotank_desc: "Reparación y sustitución de termos eléctricos.",
                service_industrial_laundry_title: "Lavandería Industrial", service_industrial_laundry_desc: "Servicio técnico para maquinaria de lavandería profesional.",
                service_industrial_fridge_title: "Frío Industrial", service_industrial_fridge_desc: "Reparación de cámaras frigoríficas y vitrinas refrigeradas.",
                service_industrial_boiler_title: "Calderas Industriales", service_industrial_boiler_desc: "Mantenimiento y reparación de sistemas de calefacción industrial.",
                loc_barcelona: "Barcelona", loc_coruna: "La Coruña", loc_valencia: "Valencia", loc_castellon: "Castellón de la Plana",
                tag_domestico: "Doméstico", tag_industrial: "Industrial"
            },
            ca: {},
            va: {}
        };

        const services = [
            { id: 'aire-acondicionado', type: 'domestico', icon: 'fa-wind', title_key: 'service_ac_title', desc_key: 'service_ac_desc' },
            { id: 'lavadoras', type: 'domestico', icon: 'fa-soap', title_key: 'service_washing_machine_title', desc_key: 'service_washing_machine_desc' },
            { id: 'lavavajillas', type: 'domestico', icon: 'fa-glass-water-droplet', title_key: 'service_dishwasher_title', desc_key: 'service_dishwasher_desc' },
            { id: 'hornos', type: 'domestico', icon: 'fa-temperature-high', title_key: 'service_oven_title', desc_key: 'service_oven_desc' },
            { id: 'secadoras', type: 'domestico', icon: 'fa-shirt', title_key: 'service_dryer_title', desc_key: 'service_dryer_desc' },
            { id: 'vitroceramicas', type: 'domestico', icon: 'fa-fire-burner', title_key: 'service_cooktop_title', desc_key: 'service_cooktop_desc' },
            { id: 'calentadores', type: 'domestico', icon: 'fa-fire', title_key: 'service_water_heater_title', desc_key: 'service_water_heater_desc' },
            { id: 'calderas', type: 'domestico', icon: 'fa-hot-tub-person', title_key: 'service_boiler_title', desc_key: 'service_boiler_desc' },
            { id: 'termos', type: 'domestico', icon: 'fa-temperature-arrow-up', title_key: 'service_thermotank_title', desc_key: 'service_thermotank_desc' },
            { id: 'lavanderia-industrial', type: 'industrial', icon: 'fa-industry', title_key: 'service_industrial_laundry_title', desc_key: 'service_industrial_laundry_desc' },
            { id: 'frio-industrial', type: 'industrial', icon: 'fa-snowflake', title_key: 'service_industrial_fridge_title', desc_key: 'service_industrial_fridge_desc' },
            { id: 'calderas-industriales', type: 'industrial', icon: 'fa-fire-flame-curved', title_key: 'service_industrial_boiler_title', desc_key: 'service_industrial_boiler_desc' }
        ];

        // ══════════ CORE FUNCTIONS ══════════
        let currentLang = 'es';
        let currentRating = 0;

        function t(key) {
            return (translations[currentLang] && translations[currentLang][key]) || translations['es'][key] || key;
        }

        function setLanguage(lang) {
            if (!translations[lang]) lang = 'es';
            currentLang = lang;
            document.querySelectorAll('[data-lang]').forEach(el => {
                const key = el.getAttribute('data-lang');
                const val = t(key);
                if (val) {
                    if (key === 'hero_h1') el.innerHTML = val;
                    else el.textContent = val;
                }
            });
            populateServiceCards();
            populateApplianceSelect();
            document.getElementById('lang-current-desktop').textContent = lang.toUpperCase();
            document.getElementById('lang-current-mobile').textContent = lang.toUpperCase();
            localStorage.setItem('preferredLanguage', lang);
        }

        function populateServiceCards() {
            const container = document.getElementById('service-list');
            if (!container) return;
            container.innerHTML = '';
            services.forEach((s, i) => {
                const card = document.createElement('div');
                card.className = `service-card ${s.type} reveal d${(i % 3) + 1}`;
                card.dataset.type = s.type;
                const tagLabel = s.type === 'domestico' ? t('tag_domestico') : t('tag_industrial');
                card.innerHTML = `
                    <div class="service-icon"><i class="fas ${s.icon}"></i></div>
                    <h3>${t(s.title_key)}</h3>
                    <p>${t(s.desc_key)}</p>
                    <span class="service-tag ${s.type}">${tagLabel || s.type}</span>
                `;
                container.appendChild(card);
            });
            initRevealObserver();
        }

        function populateApplianceSelect() {
            const select = document.getElementById('equipo');
            if (!select) return;
            select.innerHTML = '';
            services.forEach(s => {
                const opt = document.createElement('option');
                opt.value = s.id;
                opt.textContent = t(s.title_key);
                select.appendChild(opt);
            });
        }

        function filterServices(filter) {
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.filter === filter);
            });
            document.querySelectorAll('.service-card').forEach(card => {
                if (filter === 'all' || card.dataset.type === filter) {
                    card.classList.remove('card-hidden');
                } else {
                    card.classList.add('card-hidden');
                }
            });
        }

        function updateStarDisplay(rating) {
            document.querySelectorAll('#ratingStars .fa-star').forEach(star => {
                star.classList.toggle('selected', parseInt(star.dataset.rating) <= rating);
            });
        }

        function updateAuthUI(user) {
            const googleBtn = document.getElementById('google-signin-btn');
            const userInfo = document.getElementById('user-info');
            const nameInput = document.getElementById('testimonialNombre');
            if (user && !user.isAnonymous) {
                googleBtn.classList.add('hidden');
                userInfo.classList.remove('hidden');
                document.getElementById('user-display-name').textContent = user.displayName;
                nameInput.value = user.displayName || '';
                nameInput.readOnly = true;
                nameInput.style.background = '#f5f5f5';
            } else {
                googleBtn.classList.remove('hidden');
                userInfo.classList.add('hidden');
                nameInput.value = '';
                nameInput.readOnly = false;
                nameInput.style.background = '';
            }
        }

        async function loadTestimonials() {
            if (!db) return;
            const container = document.getElementById('testimonials-container');
            const path = `artifacts/${appId}/public/data/testimonials`;
            try {
                const q = query(collection(db, path), orderBy("createdAt", "desc"), limit(6));
                const snap = await getDocs(q);
                container.innerHTML = '';
                snap.forEach(doc => {
                    const d = doc.data();
                    let stars = '';
                    for (let i = 1; i <= 5; i++) stars += `<i class="fas fa-star ${i <= d.rating ? 'on' : 'off'}"></i>`;
                    const card = document.createElement('div');
                    card.className = 'testimonial-card reveal';
                    card.innerHTML = `
                        <div class="quote-icon">"</div>
                        <div class="testimonial-header">
                            <div class="testimonial-avatar">${d.name.charAt(0).toUpperCase()}</div>
                            <div>
                                <div class="testimonial-name">${d.name}</div>
                                <div class="testimonial-stars">${stars}</div>
                            </div>
                        </div>
                        <p class="testimonial-text">"${d.comment}"</p>
                    `;
                    container.appendChild(card);
                });
                initRevealObserver();
            } catch (e) { console.warn("Error loading testimonials:", e); }
        }

        async function saveTestimonial(e) {
            e.preventDefault();
            if (!db || !auth) return alert("Error de conexión.");
            const spinner = document.getElementById('testimonial-loading-spinner');
            const status = document.getElementById('testimonialFormStatus');
            const btn = document.getElementById('submitTestimonial');
            if (currentRating === 0) { document.getElementById('ratingError').classList.remove('hidden'); return; }
            document.getElementById('ratingError').classList.add('hidden');
            spinner.classList.remove('hidden'); btn.disabled = true;
            try {
                const user = auth.currentUser;
                await addDoc(collection(db, `artifacts/${appId}/public/data/testimonials`), {
                    name: document.getElementById('testimonialNombre').value,
                    rating: currentRating,
                    comment: document.getElementById('testimonialMensaje').value,
                    createdAt: serverTimestamp(),
                    userId: user ? user.uid : 'anonymous',
                    isGoogleUser: user && !user.isAnonymous
                });
                status.textContent = "¡Opinión enviada correctamente!";
                status.style.color = '#16a34a';
                document.getElementById('testimonialForm').reset();
                currentRating = 0; updateStarDisplay(0);
                loadTestimonials();
            } catch (err) {
                status.textContent = "Error al enviar. Intenta de nuevo.";
                status.style.color = '#ef4444';
            } finally { spinner.classList.add('hidden'); btn.disabled = false; }
        }

        // ══════════ SCROLL REVEAL ══════════
        function initRevealObserver() {
            const obs = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) { entry.target.classList.add('visible'); obs.unobserve(entry.target); }
                });
            }, { threshold: 0.08 });
            document.querySelectorAll('.reveal:not(.visible)').forEach(el => obs.observe(el));
        }

        // ══════════ HEADER SCROLL ══════════
        function initHeader() {
            const header = document.getElementById('site-header');
            let ticking = false;
            window.addEventListener('scroll', () => {
                if (!ticking) {
                    window.requestAnimationFrame(() => {
                        header.classList.toggle('scrolled', window.scrollY > 60);
                        ticking = false;
                    });
                    ticking = true;
                }
            });
        }

        // ══════════ INIT ══════════
        document.addEventListener('DOMContentLoaded', () => {
            const lang = localStorage.getItem('preferredLanguage') || 'es';
            setLanguage(lang);
            filterServices('all');
            initRevealObserver();
            initHeader();

            // Mobile menu
            document.getElementById('mobile-menu-btn')?.addEventListener('click', () => document.getElementById('mobile-menu').classList.add('open'));
            document.getElementById('mobile-menu-close')?.addEventListener('click', () => document.getElementById('mobile-menu').classList.remove('open'));
            document.querySelectorAll('.mobile-menu-link, .mobile-menu-cta').forEach(a => {
                a.addEventListener('click', () => document.getElementById('mobile-menu').classList.remove('open'));
            });

            // Filters
            document.querySelectorAll('.filter-btn').forEach(btn => btn.addEventListener('click', () => filterServices(btn.dataset.filter)));

            // Stars
            document.querySelectorAll('#ratingStars .fa-star').forEach(star => {
                star.addEventListener('click', function() {
                    currentRating = parseInt(this.dataset.rating);
                    document.getElementById('ratingValue').value = currentRating;
                    updateStarDisplay(currentRating);
                });
            });

            // Language dropdowns
            ['desktop', 'mobile'].forEach(variant => {
                const toggle = document.getElementById(`lang-toggle-${variant}`);
                const dropdown = document.getElementById(`lang-dropdown-${variant}`);
                if (toggle && dropdown) {
                    toggle.addEventListener('click', (e) => {
                        e.stopPropagation();
                        // Close the other dropdown
                        document.querySelectorAll('.lang-dropdown').forEach(d => {
                            if (d !== dropdown) d.classList.remove('open');
                        });
                        dropdown.classList.toggle('open');
                    });
                    dropdown.addEventListener('click', (e) => e.stopPropagation());
                    dropdown.querySelectorAll('.lang-option').forEach(opt => {
                        opt.addEventListener('click', (e) => {
                            e.preventDefault();
                            e.stopPropagation();
                            const lang = opt.getAttribute('data-lang-option');
                            setLanguage(lang);
                            dropdown.classList.remove('open');
                        });
                    });
                }
            });
            document.addEventListener('click', () => {
                document.querySelectorAll('.lang-dropdown').forEach(d => d.classList.remove('open'));
            });

            // Firebase auth
            if (auth) {
                onAuthStateChanged(auth, user => {
                    updateAuthUI(user);
                    if (!user) signInAnonymously(auth).catch(console.error);
                    loadTestimonials();
                });
                document.getElementById('google-signin-btn')?.addEventListener('click', async () => {
                    try { await signInWithPopup(auth, new GoogleAuthProvider()); } catch (e) { console.error(e); }
                });
                document.getElementById('signout-btn')?.addEventListener('click', async () => {
                    await signOut(auth); window.location.reload();
                });
                document.getElementById('testimonialForm').addEventListener('submit', saveTestimonial);
            }

            // Contact form submit (Formspree)
            const contactForm = document.getElementById('contact-form');
            if (contactForm) {
                contactForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    const btn = contactForm.querySelector('button[type="submit"]');
                    const origText = btn.innerHTML;
                    btn.innerHTML = '<i class="fas fa-circle-notch fa-spin"></i> Enviando...';
                    btn.disabled = true;
                    try {
                        const formData = new FormData(contactForm);
                        const resp = await fetch(contactForm.action, {
                            method: 'POST',
                            body: formData,
                            headers: { 'Accept': 'application/json' }
                        });
                        if (resp.ok) {
                            contactForm.reset();
                            populateApplianceSelect();
                            const modal = document.getElementById('success-modal');
                            modal.classList.add('open');
                        } else {
                            const data = await resp.json().catch(() => ({}));
                            const errMsg = (data.errors && data.errors.map(e => e.message).join(', ')) || 'Error al enviar el formulario. Inténtalo de nuevo.';
                            alert(errMsg);
                        }
                    } catch (err) {
                        console.error('Form submission error:', err);
                        alert('Error de conexión. Por favor, inténtalo de nuevo o contacta por teléfono.');
                    } finally {
                        btn.innerHTML = origText;
                        btn.disabled = false;
                    }
                });
            }

            // Modal close
            document.getElementById('close-modal-btn')?.addEventListener('click', () => {
                document.getElementById('success-modal').classList.remove('open');
            });
        });
    </script>

    <!-- Google Maps -->
    <script>
        function initMap() {
            try {
                const loc = { lat: 39.4699, lng: -0.3763 };
                const map = new google.maps.Map(document.getElementById("map"), {
                    zoom: 11, center: loc, disableDefaultUI: true, zoomControl: true,
                    styles: [
                        { featureType: "all", elementType: "geometry", stylers: [{ saturation: -80 }] },
                        { featureType: "water", elementType: "geometry.fill", stylers: [{ color: "#dde6f0" }] },
                        { featureType: "road", elementType: "geometry", stylers: [{ lightness: 40 }] },
                        { featureType: "poi", stylers: [{ visibility: "off" }] }
                    ]
                });
                new google.maps.Marker({ position: loc, map, title: "ERB Servicio Técnico", animation: google.maps.Animation.DROP });
            } catch (e) { window.gm_authFailure(); }
        }
        window.initMap = initMap;
        window.gm_authFailure = function() {
            const el = document.getElementById('map-error-message');
            if (el) { el.classList.add('show'); document.getElementById('map').style.display = 'none'; }
        };
    </script>
    <script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDz_erEiiEvZlRfOhnRCt-Ooz5yM9rBrgk&libraries=geometry&callback=initMap&onerror=gm_authFailure"></script>

</body>
</html>
