<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="ERB Servicio Técnico de Gamma Blanca – Especialistas en reparación y mantenimiento de electrodomésticos en Barcelona, Coruña, Valencia y Castellón de la Plana.">
  <link rel="icon" href="/favicon.ico" />
  <title>ERB Servicio Técnico</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-TQC24XCERF"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-TQC24XCERF');
  </script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-YTNVDQ7ZBX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-YTNVDQ7ZBX');
  </script>

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>

  <style>
    /* Language display rules */
    .lang-es { display: inline; }
    .lang-ca, .lang-va { display: none; }

    /* Smooth scrolling */
    html { scroll-behavior: smooth; }

    /* Fade-in animation */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Dark mode styles */
    body.dark-mode {
      background-color: #1a202c;
      color: #e2e8f0;
    }

    body.dark-mode .hero {
      background: linear-gradient(135deg, #0a5cb8, #003f7f);
      color: #e2e8f0;
    }

    body.dark-mode .servicios, body.dark-mode .marcas, body.dark-mode .about-us, body.dark-mode .coverage-map-section { /* Added coverage-map-section */
      background-color: #2d3748;
      color: #e2e8f0;
    }

    body.dark-mode .servicios h2, body.dark-mode .marcas h2, body.dark-mode .beneficios h2, body.dark-mode .formulario h2, body.dark-mode .about-us h2, body.dark-mode .coverage-map-section h2 { /* Added coverage-map-section */
        color: #90cdf4;
    }

    body.dark-mode .card {
      background-color: #4a5568;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
    }

    body.dark-mode .card:hover, body.dark-mode .card:focus-within {
      background-color: #5a67d8;
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.6);
    }

    body.dark-mode .card .icon {
      color: #90cdf4;
    }

    body.dark-mode .card h3 {
      color: #90cdf4;
    }

    body.dark-mode .card p {
        color: #cbd5e0;
    }

    body.dark-mode .beneficios .btn {
        background-color: #003f7f;
        box-shadow: 0 4px 6px rgba(0,0,0,0.4);
    }

    body.dark-mode .beneficios .btn:hover {
        background-color: #0a5cb8;
        box-shadow: 0 4px 6px rgba(0,0,0,0.6);
    }

    /* Form styles - Adjusted specificity for dark mode */
    .formulario {
        padding: 1.5rem;
        margin: 1.5rem auto;
    }

    /* Increased specificity and removed !important */
    body.dark-mode section#formulario {
      background-color: #2d3748; /* Darker form background */
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
    }

    body.dark-mode .formulario label {
        color: #e2e8f0;
    }

    body.dark-mode .formulario input, body.dark-mode .formulario textarea, body.dark-mode .formulario select {
      background-color: #4a5568;
      border-color: #636b78;
      color: #e2e8f0;
    }

    body.dark-mode .formulario input::placeholder, body.dark-mode .formulario textarea::placeholder {
        color: #a0aec0;
    }

    body.dark-mode .formulario input:focus, body.dark-mode .formulario textarea:focus, body.dark-mode .formulario select:focus {
      border-color: #90cdf4;
      box-shadow: 0 0 0 1px #90cdf4;
    }

    body.dark-mode .formulario button {
      background: #003f7f;
    }

    body.dark-mode .formulario button:hover, body.dark-mode .formulario button:focus {
      background-color: #0a5cb8;
    }

    /* Form response messages */
    .form-response {
        opacity: 0;
        transition: opacity 0.5s ease-in-out;
    }
    .form-response.visible {
        opacity: 1;
    }
    .form-response.success {
        background: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
    }
    .form-response.error {
        background: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
    }

    body.dark-mode .form-response.success {
        background: #2f855a;
        color: #e2e8f0;
        border-color: #22543d;
    }

    body.dark-mode .form-response.error {
        background: #c53030;
        color: #e2e8f0;
        border-color: #a71f24;
    }

    /* Loading indicator */
    #formLoadingIndicator {
        display: none;
        text-align: center;
        margin-top: 1rem;
        color: #0a5cb8;
    }

    body.dark-mode #formLoadingIndicator {
        color: #90cdf4;
    }

    /* Footer styles */
    footer {
        background: #0a5cb8;
        color: white;
        text-align: center;
        padding: 1.25rem 1rem;
        font-size: 0.875rem;
    }

    footer a {
        color: white;
        text-decoration: underline;
        margin: 0 0.5rem;
        transition: opacity 0.3s ease;
    }

    footer a:hover {
        opacity: 0.8;
    }

    body.dark-mode footer {
      background: #0a5cb8;
      color: #e2e8f0;
    }

    body.dark-mode footer a {
        color: #e2e8f0;
    }

    /* Dark mode toggle button styles */
    body.dark-mode #language-selector button#darkModeToggle {
        border-color: #90cdf4;
        background-color: #2d3748;
        color: #e2e8f0;
    }

    body.dark-mode #language-selector button#darkModeToggle:hover {
        background-color: #4a5568;
        color: #e2e8f0;
    }

    /* Prevent horizontal overflow */
    body {
        overflow-x: hidden;
    }

    /* Contact buttons container */
    .contact-buttons-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 1rem;
        margin-top: 1.25rem;
        margin-bottom: 1.25rem;
    }

    .contact-buttons-container .btn {
        flex-grow: 1;
        flex-shrink: 0;
        max-width: 200px;
        text-align: center;
    }

    /* Service type selector */
    .service-type-selector {
        text-align: center;
        margin-top: 20px;
        margin-bottom: 20px;
    }

    .service-type-selector button {
        padding: 10px 20px;
        margin: 0 10px;
        border: 2px solid #0a5cb8;
        background-color: #fff;
        color: #0a5cb8;
        border-radius: 8px;
        cursor: pointer;
        transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        font-weight: bold;
        min-width: 120px;
    }

    .service-type-selector button.active {
        background-color: #0a5cb8;
        color: #fff;
        border-color: #0a5cb8;
    }

    body.dark-mode .service-type-selector button {
        border-color: #90cdf4;
        background-color: #2d3748;
        color: #e2e8f0;
    }

    body.dark-mode .service-type-selector button:hover {
        background-color: #4a5568;
        color: #e2e8f0;
    }

    body.dark-mode .service-type-selector button.active {
        background-color: #90cdf4;
        color: #1a202c;
        border-color: #90cdf4;
    }

    /* Services section grid */
    .servicios .cards {
        grid-template-columns: repeat(2, 1fr);
        gap: 1.25rem;
        padding: 0 1rem;
    }

    @media (min-width: 1024px) {
        .servicios .cards {
            grid-template-columns: repeat(3, 1fr);
        }
    }

    .servicios .card {
        padding: 1rem;
    }

    @media (max-width: 640px) {
        .servicios .card {
            min-height: 220px;
        }
         .servicios .card .icon {
             margin-bottom: 0.5rem;
         }
         .servicios .card h3 {
             margin-bottom: 0.1rem;
         }
    }

    /* Style to hide filtered cards */
    .servicios .card.hidden {
        display: none;
    }

    .servicios .card .icon {
        font-size: 4rem;
        margin-bottom: 0.75rem;
    }

    .servicios .card h3 {
        font-size: 1.1rem;
        margin-bottom: 0.25rem;
    }

    .servicios .card p {
        font-size: 0.9rem;
    }

    /* Benefits section flexbox */
    .beneficios .container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 1.5rem;
        max-width: 1000px;
        margin: 0 auto;
        padding: 0 1rem;
    }

    .beneficios .item {
        background-color: #0a5cb8;
        color: white;
        padding: 1.5rem;
        border-radius: 0.5rem;
        text-align: center;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        flex-basis: 250px;
        flex-grow: 1;
        min-height: 180px;
    }

    .beneficios .item:hover {
        transform: translateY(-5px);
        box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
    }

    body.dark-mode .beneficios .item {
        background-color: #003f7f;
        box-shadow: 0 4px 6px rgba(0,0,0,0.4);
    }

    body.dark-mode .beneficios .item:hover {
        background-color: #0a5cb8;
        box-shadow: 0 6px 8px rgba(0,0,0,0.6);
    }

    /* Form section styles */
    .formulario {
        padding: 1.5rem;
        margin: 1.5rem auto;
    }

    .formulario label {
        font-size: 0.9rem;
        margin-bottom: 0.25rem;
    }

    .formulario input, .formulario textarea, .formulario select {
        padding: 0.75rem;
        font-size: 1rem;
    }

    .formulario button {
        padding: 0.75rem 1rem;
        font-size: 1rem;
    }

    /* Brands section grid */
    .marcas .grid {
        gap: 1rem;
        padding: 0 1rem;
    }

    .marcas img {
        height: 3rem;
        width: auto;
    }

    /* Language and dark mode selector adjustments for mobile */
    #language-selector {
        margin-top: 1rem;
        margin-bottom: 1rem;
        padding: 0 0.5rem;
    }

    #language-selector button {
        margin: 0.25rem;
        padding: 0.5rem 0.75rem;
        font-size: 0.8rem;
    }

    /* About Us section styles */
    .about-us {
        background-color: #f7fafc;
        padding: 4rem 1.25rem;
        text-align: center;
    }

    body.dark-mode .about-us {
        background-color: #2d3748;
        color: #e2e8f0;
    }

    body.dark-mode .about-us p {
        color: #cbd5e0;
    }

    .whatsapp-button-container {
        text-align: center;
        margin-top: 2rem;
        margin-bottom: 2rem;
        padding: 0 1rem;
    }

    .whatsapp-button-container .whatsapp-btn {
        background-color: #0a5cb8;
        color: white;
        padding: 0.75rem 1.5rem;
        border-radius: 9999px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
        font-weight: bold;
        display: inline-flex;
        align-items: center;
        text-decoration: none;
    }

    .whatsapp-button-container .whatsapp-btn:hover {
        transform: scale(1.05);
        box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        background-color: #003f7f;
    }

    .whatsapp-button-container .whatsapp-btn:focus {
         outline: none;
         box-shadow: 0 0 0 2px rgba(10, 92, 184, 0.5);
    }

    body.dark-mode .whatsapp-button-container .whatsapp-btn {
        background-color: #003f7f;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.4);
    }

    body.dark-mode .whatsapp-button-container .whatsapp-btn:hover {
         background-color: #0a5cb8;
         box-shadow: 0 6px 8px rgba(0, 0, 0, 0.6);
    }

    body.dark-mode .whatsapp-button-container .whatsapp-btn:focus {
         box-shadow: 0 0 0 2px rgba(0, 63, 127, 0.5);
    }

    .whatsapp-button-container .whatsapp-btn img {
        width: 1.5rem;
        height: 1.5rem;
        margin-right: 0.5rem;
        vertical-align: middle;
    }

    /* Cookie Consent Banner styles */
    #cookie-banner {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: #333; /* Dark background */
        color: white;
        padding: 1rem;
        text-align: center;
        z-index: 1000;
        display: none;
        flex-direction: column;
        align-items: center;
        gap: 1rem;
    }

    #cookie-banner .cookie-content {
        flex-grow: 1;
        margin-bottom: 0.5rem;
    }

    #cookie-banner a {
        color: #90cdf4;
        text-decoration: underline;
    }

    #cookie-banner .cookie-buttons {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
        justify-content: center;
    }

    #cookie-banner button {
        padding: 0.5rem 1rem;
        border-radius: 0.25rem;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s ease, opacity 0.3s ease;
    }

    #cookie-banner .accept-btn {
        background-color: #0a5cb8;
        color: white;
        border: none;
    }

    #cookie-banner .accept-btn:hover {
        background-color: #003f7f;
    }

    #cookie-banner .reject-btn {
        background-color: #555;
        color: white;
        border: none;
    }

    #cookie-banner .reject-btn:hover {
        background-color: #777;
    }

    /* Dark mode styles for cookie banner */
    body.dark-mode #cookie-banner {
        background-color: #2d3748;
        color: #e2e8f0;
    }

    body.dark-mode #cookie-banner a {
        color: #90cdf4;
    }

    body.dark-mode #cookie-banner .accept-btn {
         background-color: #003f7f;
    }

    body.dark-mode .accept-btn:hover {
         background-color: #0a5cb8;
    }

    body.dark-mode #cookie-banner .reject-btn {
        background-color: #4a5568;
    }

    body.dark-mode .reject-btn:hover {
        background-color: #636b78;
    }

    /* Media query for larger screens (horizontal row) */
    @media (min-width: 768px) {
        #cookie-banner {
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
        }
         #cookie-banner .cookie-content {
             margin-bottom: 0;
             text-align: left;
         }
         #cookie-banner .cookie-buttons {
             flex-wrap: nowrap;
         }
    }

    /* Styles for the coverage map section */
    .coverage-map-section {
        background-color: #f7fafc; /* Light gray background, similar to about-us */
        padding: 4rem 1.25rem;
        text-align: center;
    }
    #coverageMap {
        height: 400px; /* Default height for the map */
        width: 100%;
        max-width: 800px; /* Max width to keep it centered and not too wide on large screens */
        margin: 1.5rem auto; /* Center the map */
        border-radius: 0.5rem; /* Rounded corners */
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Subtle shadow */
    }
    @media (min-width: 768px) {
        #coverageMap {
            height: 500px; /* Taller map on larger screens */
        }
    }

  </style>
</head>
<body class="font-sans bg-white text-[#0a5cb8] leading-relaxed">

  <div class="flex justify-center mt-5">
      <div class="w-32 h-auto sm:w-40 md:w-48 lg:w-56">
          <img src="/logo.png" alt="ERB Servicio Técnico Logo" class="block w-full h-auto" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/192x192/cccccc/ffffff?text=Logo';">
      </div>
  </div>

  <div id="language-selector" class="text-center my-5 flex flex-wrap justify-center">
    <button class="mx-2 px-2.5 py-1.5 text-sm border border-[#0a5cb8] bg-white text-[#0a5cb8] rounded hover:bg-[#0a5cb8] hover:text-white focus:outline-none focus:ring-2 focus:ring-[#0a5cb8]" aria-label="Cambiar a Castellano">Castellano</button>
    <button class="mx-2 px-2.5 py-1.5 text-sm border border-[#0a5cb8] bg-white text-[#0a5cb8] rounded hover:bg-[#0a5cb8] hover:text-white focus:outline-none focus:ring-2 focus:ring-[#0a5cb8]" aria-label="Cambiar a Català">Català</button>
    <button class="mx-2 px-2.5 py-1.5 text-sm border border-[#0a5cb8] bg-white text-[#0a5cb8] rounded hover:bg-[#0a5cb8] hover:text-white focus:outline-none focus:ring-2 focus:ring-[#0a5cb8]" aria-label="Cambiar a Valencià">Valencià</button>
    <button id="darkModeToggle" class="mx-2 px-2.5 py-1.5 text-sm border border-[#0a5cb8] bg-white text-[#0a5cb8] rounded hover:bg-[#0a5cb8] hover:text-white focus:outline-none focus:ring-2 focus:ring-[#0a5cb8]" aria-label="Alternar Modo Oscuro">
        <i class="fa-solid fa-moon"></i> <span class="lang-es">Modo Oscuro</span><span class="lang-ca">Mode Fosc</span><span class="lang-va">Mode Fosc</span>
    </button>
  </div>

  <section class="service-type-selector">
      <button id="domesticoBtn" class="active" data-service-type="domestico">
          <span class="lang-es">Doméstico</span>
          <span class="lang-ca">Domèstic</span>
          <span class="lang-va">Domèstic</span>
      </button>
      <button id="industrialBtn" data-service-type="industrial">
          <span class="lang-es">Industrial</span>
          <span class="lang-ca">Industrial</span>
          <span class="lang-va">Industrial</span>
      </button>
  </section>

  <header class="hero bg-gradient-to-br from-[#0a5cb8] to-[#003f7f] text-white text-center py-16 md:py-24 px-5 animate-[fadeIn_1.5s_ease-in-out]">
    <h1 class="text-3xl md:text-5xl mb-2">
      <span class="lang-es">ERB Servicio Técnico de Gamma Blanca</span>
      <span class="lang-ca">ERB Servei Tècnic de Gamma Blanca</span>
      <span class="lang-va">ERB Servei Tècnic de Gamma Blanca</span>
    </h1>
    <p class="text-base md:text-lg mb-4">
      <span class="lang-es">Especialistas en reparación y mantenimiento de electrodomésticos.</span>
      <span class="lang-ca">Especialistes en reparació i manteniment d'electrodomèstics.</span>
      <span class="lang-va">Especialistes en reparació i manteniment d'aparells electrodomèstics.</span>
    </p>
    <a href="#servicios" class="btn inline-block bg-white text-[#0a5cb8] px-6 py-3 rounded-md font-bold transition duration-300 transform hover:scale-105 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-white">
      <span class="lang-es">Ver Servicios</span>
      <span class="lang-ca">Veure Serveis</span>
      <span class="lang-va">Veure Serveis</span>
    </a>
  </header>

  <div class="contact-buttons-container">
      <a href="#marcas" class="btn inline-flex items-center bg-[#0a5cb8] text-white px-4 py-3 rounded-full shadow-md transition duration-300 transform hover:scale-105 hover:shadow-lg font-bold focus:outline-none focus:ring-2 focus:ring-[#0a5cb8]" aria-label="Ver Marcas con las que trabajamos">
          <i class="fa-solid fa-tags mr-2 align-middle"></i>
          <span class="lang-es">Ver Marcas</span>
          <span class="lang-ca">Veure Marques</span>
          <span class="lang-va">Veure Marques</span>
      </a>
      <a href="#about-us" class="btn inline-flex items-center bg-[#0a5cb8] text-white px-4 py-3 rounded-full shadow-md transition duration-300 transform hover:scale-105 hover:shadow-lg font-bold focus:outline-none focus:ring-2 focus:ring-[#0a5cb8]" aria-label="Conoce más sobre nosotros">
          <i class="fa-solid fa-building mr-2 align-middle"></i>
          <span class="lang-es">Sobre Nosotros</span>
          <span class="lang-ca">Sobre Nosaltres</span>
          <span class="lang-va">Sobre Nosaltres</span>
      </a>
      <a href="#formulario" id="requestRepairBtn" class="btn inline-flex items-center bg-[#0a5cb8] text-white px-4 py-3 rounded-full shadow-md transition duration-300 transform hover:scale-105 hover:shadow-lg font-bold focus:outline-none focus:ring-2 focus:ring-[#0a5cb8]" aria-label="Solicita tu reparación a través del formulario">
        <i class="fa-solid fa-file-alt mr-2 align-middle"></i> <span class="lang-es">Solicita tu reparación</span>
        <span class="lang-ca">Sol·licita la teva reparació</span>
        <span class="lang-va">Sol·licita la teua reparació</span>
      </a>
  </div>

  <section id="servicios" class="servicios py-16 px-5 bg-gray-100 text-center">
    <h2 class="text-3xl md:text-4xl mb-8">
      <span class="lang-es">¿Qué electrodomésticos reparamos?</span>
      <span class="lang-ca">Quins electrodomèstics reparam?</span>
      <span class="lang-va">Quins aparells electrodomèstics reparam?</span>
    </h2>
    <div class="cards grid grid-cols-2 lg:grid-cols-3 gap-5 max-w-screen-lg mx-auto">
      <div class="card bg-white p-5 rounded-lg shadow-md transition duration-300 transform hover:-translate-y-1 hover:shadow-lg hover:bg-blue-50 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 cursor-pointer" tabindex="0" data-appliance-value="Frigorífico" data-service-type="domestico">
        <span class="material-icons-outlined icon text-5xl text-[#0a5cb8] mb-2.5">ac_unit</span>
        <h3 class="text-xl font-bold mb-1 text-[#0a5cb8]">
          <span class="lang-es">Frigoríficos y Congeladores</span>
          <span class="lang-ca">Neveres i congeladors</span>
          <span class="lang-va">Neveres i congeladors</span>
        </h3>
        <p class="text-gray-700">
          <span class="lang-es">No enfrían correctamente, problemas de congelación o ruidos inusuales.</span>
          <span class="lang-ca">No refreden correctament, problemes de congelació o sorolls inusuals.</span>
          <span class="lang-va">No refreden correctament, problemes de congelació o sorolls inusuales.</span>
        </p>
      </div>
      <div class="card bg-white p-5 rounded-lg shadow-md transition duration-300 transform hover:-translate-y-1 hover:shadow-lg hover:bg-blue-100 focus-within:outline-none focus-within:ring-4 focus-within:ring-blue-500 cursor-pointer" tabindex="0" data-appliance-value="Aire acondicionado" data-service-type="domestico industrial">
        <span class="material-icons-outlined icon text-5xl text-[#0a5cb8] mb-2.5">air</span>
        <h3 class="text-xl font-bold mb-1 text-[#0a5cb8]">
          <span class="lang-es">Aires Acondicionados</span>
          <span class="lang-ca">Aires condicionats</span>
          <span class="lang-va">Aires condicionats</span>
        </h3>
        <p class="text-gray-700">
          <span class="lang-es">Instalación y reparación de sistemas de climatización.</span>
          <span class="lang-ca">Instal·lació i reparació de sistemes de climatització.</span>
          <span class="lang-va">Instal·lació i reparació de sistemes de climatització.</span>
        </p>
      </div>
      <div class="card bg-white p-5 rounded-lg shadow-md transition duration-300 transform hover:-translate-y-1 hover:shadow-lg hover:bg-blue-50 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 cursor-pointer" tabindex="0" data-appliance-value="Lavadora" data-service-type="domestico">
        <i class="fas fa-washing-machine icon text-5xl text-[#0a5cb8] mb-2.5"></i>
        <h3 class="text-xl font-bold mb-1 text-[#0a5cb8]">
          <span class="lang-es">Lavadoras</span>
          <span class="lang-ca">Rentadores</span>
          <span class="lang-va">Rentadores</span>
        </h3>
        <p class="text-gray-700">
          <span class="lang-es">Problemas de centrifugado, agua, ruidos o bloqueos.</span>
          <span class="lang-ca">Problemes de centrifugació, aigua, sorolls o bloqueigs.</span>
          <span class="lang-va">Problemes de centrifugació, aigua, sorolls o bloqueigs.</span>
        </p>
      </div>
      <div class="card bg-white p-5 rounded-lg shadow-md transition duration-300 transform hover:-translate-y-1 hover:shadow-lg hover:bg-blue-50 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 cursor-pointer" tabindex="0" data-appliance-value="Lavavajillas" data-service-type="domestico">
        <span class="material-icons-outlined icon text-5xl text-[#0a5cb8] mb-2.5">cleaning_services</span>
        <h3 class="text-xl font-bold mb-1 text-[#0a5cb8]">
          <span class="lang-es">Lavavajillas</span>
          <span class="lang-ca">Rentavaixelles</span>
          <span class="lang-va">Rentavaixelles</span>
        </h3>
        <p class="text-gray-700">
          <span class="lang-es">Fugas, mal funcionamiento o limpieza deficiente.</span>
          <span class="lang-ca">Fuites, mal funcionament o rentat deficient.</span>
          <span class="lang-va">Fuites, mal funcionament o rentat deficient.</span>
        </p>
      </div>
      <div class="card bg-white p-5 rounded-lg shadow-md transition duration-300 transform hover:-translate-y-1 hover:shadow-lg hover:bg-blue-50 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 cursor-pointer" tabindex="0" data-appliance-value="Horno" data-service-type="domestico">
        <span class="material-icons-outlined icon text-5xl text-[#0a5cb8] mb-2.5">kitchen</span>
        <h3 class="text-xl font-bold mb-1 text-[#0a5cb8]">
          <span class="lang-es">Hornos</span>
          <span class="lang-ca">Forns</span>
          <span class="lang-va">Forns</span>
        </h3>
        <p class="text-gray-700">
          <span class="lang-es">No calientan o presentan fallos en resistencias o sensores.</span>
          <span class="lang-ca">No escalfen o presenten fallades en resistències o sensors.</span>
          <span class="lang-va">No escalfen o presenten fallades en resistències o sensors.</span>
        </p>
      </div>
      <div class="card bg-white p-5 rounded-lg shadow-md transition duration-300 transform hover:-translate-y-1 hover:shadow-lg hover:bg-blue-50 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 cursor-pointer" tabindex="0" data-appliance-value="Secadora" data-service-type="domestico">
        <span class="material-icons-outlined icon text-5xl text-[#0a5cb8] mb-2.5">local_laundry_service</span>
        <h3 class="text-xl font-bold mb-1 text-[#0a5cb8]">
          <span class="lang-es">Secadoras</span>
          <span class="lang-ca">Assecadores</span>
          <span class="lang-va">Assecadores</span>
        </h3>
        <p class="text-gray-700">
          <span class="lang-es">Problemas de calor, giro o humedad excesiva.</span>
          <span class="lang-ca">Problemes de calor, gir o humitat excessiva.</span>
          <span class="lang-va">Problemes de calor, gir o humitat excessiva.</span>
        </p>
      </div>
      <div class="card bg-white p-5 rounded-lg shadow-md transition duration-300 transform hover:-translate-y-1 hover:shadow-lg hover:bg-blue-50 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 cursor-pointer" tabindex="0" data-appliance-value="Vitrocerámica" data-service-type="domestico">
        <span class="material-icons-outlined icon text-5xl text-[#0a5cb8] mb-2.5">bolt</span>
        <h3 class="text-xl font-bold mb-1 text-[#0a5cb8]">
          <span class="lang-es">Vitrocerámicas</span>
          <span class="lang-ca">Vitrocèrmiques</span>
          <span class="lang-va">Vitrocèrmiques</span>
        </h3>
        <p class="text-gray-700">
          <span class="lang-es">Problemas en zonas de calor, sensores o controles.</span>
          <span class="lang-ca">Problemes en zones de calor, sensors o controls.</span>
          <span class="lang-va">Problemes en zones de calor, sensors o controls.</span>
        </p>
      </div>
      <div class="card bg-white p-5 rounded-lg shadow-md transition duration-300 transform hover:-translate-y-1 hover:shadow-lg hover:bg-blue-50 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 cursor-pointer" tabindex="0" data-appliance-value="Calentador" data-service-type="domestico">
        <span class="material-icons-outlined icon text-5xl text-[#0a5cb8] mb-2.5">whatshot</span>
        <h3 class="text-xl font-bold mb-1 text-[#0a5cb8]">
          <span class="lang-es">Calentadores de Agua</span>
          <span class="lang-ca">Escalfadors d'aigua</span>
          <span class="lang-va">Escalfadors d'aigua</span>
        </h3>
        <p class="text-gray-700">
          <span class="lang-es">Reparación e instalación de calentadores de agua.</span>
          <span class="lang-ca">Reparació i instal·lació d'escalfadors d'aigua.</span>
          <span class="lang-va">Reparació i instal·lació d'escalfadors d'aigua.</span>
        </p>
      </div>
      <div class="card bg-white p-5 rounded-lg shadow-md transition duration-300 transform hover:-translate-y-1 hover:shadow-lg hover:bg-blue-50 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 cursor-pointer" tabindex="0" data-appliance-value="Caldera" data-service-type="domestico">
        <span class="material-icons-outlined icon text-5xl text-[#0a5cb8] mb-2.5">fireplace</span>
        <h3 class="text-xl font-bold mb-1 text-[#0a5cb8]">
          <span class="lang-es">Calderas</span>
          <span class="lang-ca">Calderes</span>
          <span class="lang-va">Calderes</span>
        </h3>
        <p class="text-gray-700">
          <span class="lang-es">Mantenimiento y reparación de calderas domésticas.</span>
          <span class="lang-ca">Manteniment i reparació de calderes domèstiques.</span>
          <span class="lang-va">Manteniment i reparació de calderes domèstiques.</span>
        </p>
      </div>
      <div class="card bg-white p-5 rounded-lg shadow-md transition duration-300 transform hover:-translate-y-1 hover:shadow-lg hover:bg-blue-50 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 cursor-pointer" tabindex="0" data-appliance-value="Termotanque" data-service-type="domestico">
        <span class="material-icons-outlined icon text-5xl text-[#0a5cb8] mb-2.5">hot_tub</span>
        <h3 class="text-xl font-bold mb-1 text-[#0a5cb8]">
          <span class="lang-es">Termotanques</span>
          <span class="lang-ca">Termotancs</span>
          <span class="lang-va">Termotancs</span>
        </h3>
        <p class="text-gray-700">
          <span class="lang-es">Reparación y mantenimiento de termotanques.</span>
          <span class="lang-ca">Reparació i manteniment de termotancs.</span>
          <span class="lang-va">Reparació i manteniment de termotancs.</span>
        </p>
      </div>
      <div class="card bg-white p-5 rounded-lg shadow-md transition duration-300 transform hover:-translate-y-1 hover:shadow-lg hover:bg-blue-50 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 cursor-pointer" tabindex="0" data-appliance-value="Maquinaria de Lavandería Industrial" data-service-type="industrial">
          <i class="fas fa-industry icon text-5xl text-[#0a5cb8] mb-2.5"></i>
          <h3 class="text-xl font-bold mb-1 text-[#0a5cb8]">
            <span class="lang-es">Maquinaria de Lavandería Industrial</span>
            <span class="lang-ca">Maquinària de bugaderia industrial</span>
            <span class="lang-va">Maquinària de bugaderia industrial</span>
          </h3>
          <p class="text-gray-700">
            <span class="lang-es">Reparación y mantenimiento de lavadoras y secadoras industriales.</span>
            <span class="lang-ca">Reparació i manteniment de rentadores i assecadores industrials.</span>
            <span class="lang-va">Reparació i manteniment de rentadores i assecadores industrials.</span>
          </p>
      </div>
      <div class="card bg-white p-5 rounded-lg shadow-md transition duration-300 transform hover:-translate-y-1 hover:shadow-lg hover:bg-blue-50 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 cursor-pointer" tabindex="0" data-appliance-value="Equipos de Refrigeración Industrial" data-service-type="industrial">
          <span class="material-icons-outlined icon text-5xl text-[#0a5cb8] mb-2.5">kitchen</span>
          <h3 class="text-xl font-bold mb-1 text-[#0a5cb8]">
            <span class="lang-es">Equipos de Refrigeración Industrial</span>
            <span class="lang-ca">Equips de refrigeració industrial</span>
            <span class="lang-va">Equips de refrigeració industrial</span>
          </h3>
          <p class="text-gray-700">
            <span class="lang-es">Cámaras frigoríficas, congeladores industriales, etc.</span>
            <span class="lang-ca">Cambres frigorífiques, congeladors industrials, etc.</span>
            <span class="lang-va">Cambres frigorífiques, congeladors industrials, etc.</span>
          </p>
      </div>
      <div class="card bg-white p-5 rounded-lg shadow-md transition duration-300 transform hover:-translate-y-1 hover:shadow-lg hover:bg-blue-50 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 cursor-pointer" tabindex="0" data-appliance-value="Calderas Industriales" data-service-type="industrial">
          <span class="material-icons-outlined icon text-5xl text-[#0a5cb8] mb-2.5">fireplace</span>
          <h3 class="text-xl font-bold mb-1 text-[#0a5cb8]">
            <span class="lang-es">Calderas Industriales</span>
            <span class="lang-ca">Calderes industrials</span>
            <span class="lang-va">Calderes industrials</span>
          </h3>
          <p class="text-gray-700">
            <span class="lang-es">Mantenimiento y reparación de sistemas de calderas industriales.</span>
            <span class="lang-ca">Manteniment i reparació de sistemes de calderes industrials.</span>
            <span class="lang-va">Manteniment i reparació de sistemes de calderes industrials.</span>
          </p>
      </div>
    </div>
  </section>

  <section class="beneficios py-16 px-5 bg-white text-center">
      <h2 class="text-3xl md:text-4xl mb-8 text-[#0a5cb8]">
          <span class="lang-es">Nuestros Beneficios</span>
          <span class="lang-ca">Els nostres Beneficis</span>
          <span class="lang-va">Els nostres Beneficis</span>
      </h2>
      <div class="container flex flex-wrap justify-center gap-5 max-w-screen-lg mx-auto">
          <a href="tel:+34612548508" class="btn inline-flex items-center bg-[#0a5cb8] text-white w-full sm:w-60 p-5 rounded-lg text-center no-underline shadow-md transition duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#0a5cb8]">
              <i class="fa-solid fa-phone text-5xl mb-4 block"></i>
              <p class="m-0 text-sm leading-tight">
                  <span class="lang-es">Solicita tu inspección llamando a nuestros canales de atención al cliente.</span>
                  <span class="lang-ca">Sol·licita la teva inspecció trucant als nostres canals d'atenció al client.</span>
                  <span class="lang-va">Sol·licita la teua inspección cridant als nostres canals d'atención al client.</span>
              </p>
          </a>
          <a href="#formulario" class="btn inline-flex items-center bg-[#0a5cb8] text-white w-full sm:w-60 p-5 rounded-lg text-center no-underline shadow-md transition duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#0a5cb8]">
              <i class="fa-solid fa-truck text-5xl mb-4 block"></i>
              <p class="m-0 text-sm leading-tight">
                  <span class="lang-es">Reparación en el acto si decides reparar, no cobramos el desplazamiento.</span>
                  <span class="lang-ca">Reparació a l'acte si decideixes reparar, no cobrem el desplaçament.</span>
                  <span class="lang-va">Reparació a l'acte si decideixes reparar, no cobrem el desplaçament.</span>
              </p>
          </a>
          <a href="#servicios" class="btn inline-flex items-center bg-[#0a5cb8] text-white w-full sm:w-60 p-5 rounded-lg text-center no-underline shadow-md transition duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#0a5cb8]">
              <i class="fa-solid fa-wrench text-5xl mb-4 block"></i>
              <p class="m-0 text-sm leading-tight">
                  <span class="lang-es">Disfruta de tu electrodoméstico como nuevo Con garantía en la reparación de 6 meses.</span>
                  <span class="lang-ca">Gaudeix del teu electrodomèstic com nou amb garantia en la reparació de 6 mesos.</span>
                  <span class="lang-va">Gaudeix del teu electrodomèstic com nou amb garantia en la reparació de 6 mesos.</span>
              </p>
          </a>
          <a href="#formulario" class="btn inline-flex items-center bg-[#0a5cb8] text-white w-full sm:w-60 p-5 rounded-lg text-center no-underline shadow-md transition duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#0a5cb8]">
              <i class="fa-solid fa-money-bill text-5xl mb-4 block"></i>
              <p class="m-0 text-sm leading-tight">
                  <span class="lang-es">Precios más competitivos del mercado</span>
                  <span class="lang-ca">Preus més competitius del mercat</span>
                  <span class="lang-va">Preus més competitius del mercat</span>
              </p>
          </a>
      </div>
  </section>

  <section id="coverage-area" class="coverage-map-section">
      <h2 class="text-3xl md:text-4xl mb-8">
          <span class="lang-es">Nuestra Zona de Cobertura</span>
          <span class="lang-ca">La Nostra Zona de Cobertura</span>
          <span class="lang-va">La Nostra Zona de Cobertura</span>
      </h2>
      <p class="text-base md:text-lg mb-6 max-w-2xl mx-auto">
          <span class="lang-es">Ofrecemos nuestros servicios en el centro de Valencia y alrededores, cubriendo un área aproximada hasta Sagunto. Consulta el mapa para más detalles.</span>
          <span class="lang-ca">Oferim els nostres serveis al centre de València i voltants, cobrint una àrea aproximada fins a Sagunt. Consulteu el mapa per a més detalls.</span>
          <span class="lang-va">Oferim els nostres serveis al centre de València i voltants, cobrint una àrea aproximada fins a Sagunt. Consulteu el mapa per a més detalls.</span>
      </p>
      <div id="coverageMap"></div>
  </section>

  <section id="about-us" class="about-us">
      <h2>
          <span class="lang-es">Sobre Nosotros</span>
          <span class="lang-ca">Sobre Nosaltres</span>
          <span class="lang-va">Sobre Nosaltres</span>
      </h2>
      <p>
          <span class="lang-es">Somos un equipo de técnicos especializados con años de experiencia en la reparación y mantenimiento de electrodomésticos de gama blanca, tanto domésticos como industriales. Nuestro compromiso es ofrecer un servicio rápido, eficiente y con garantía, asegurando la máxima satisfacción de nuestros clientes en Barcelona, Coruña, Valencia y Castellón de la Plana. Confía en nosotros para devolverle la vida a tus electrodomésticos.</span>
          <span class="lang-ca">Som un equip de tècnics especialitzats amb anys d'experiència en la reparació i manteniment d'electrodomèstics de gamma blanca, tant domèstics com industrials. El nostre compromís és oferir un servei ràpid, eficient i amb garantia, assegurant la màxima satisfacció dels nostres clients a Barcelona, Corunya, València i Castelló de la Plana. Confia en nosaltres per tornar-li la vida als teus electrodomèstics.</span>
          <span class="lang-va">Som un equip de tècnics especialitzats amb anys d'experiència en la reparació i manteniment d'aparells electrodomèstics de gamma blanca, tant domèstics com industrials. El nostre compromís és oferir un servei ràpid, eficient i amb garantia, assegurant la màxima satisfacció dels nostres clients a Barcelona, Corunya, València i Castelló de la Plana. Confia en nosaltres per tornar-li la vida als teus aparells electrodomèstics.</span>
      </p>
  </section>

  <div class="whatsapp-button-container">
      <a href="https://wa.me/34612548508" class="whatsapp-btn" target="_blank" aria-label="Chatea con nosotros por WhatsApp">
        <img src="/123.png" alt="Icono de WhatsApp" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/24x24/25D366/ffffff?text=WA';">
        <span class="lang-es">Chatea por WhatsApp</span>
        <span class="lang-ca">Xateja per WhatsApp</span>
        <span class="lang-va">Chateja per WhatsApp</span>
      </a>
  </div>

  <section id="formulario" class="formulario bg-white p-10 max-w-xl mx-auto my-10 rounded-lg shadow-xl">
    <h2 class="text-2xl md:text-3xl text-center mb-5">
      <span class="lang-es">Solicita tu reparación</span>
      <span class="lang-ca">Sol·licita la teva reparació</span>
      <span class="lang-va">Sol·licita la teua reparació</span>
    </h2>
    <form id="contactForm" action="https://formsubmit.co/roscordtgn@gmail.com" method="POST" class="space-y-4">
      <input type="hidden" name="_captcha" value="false">
      <div>
        <label for="nombre" class="block mb-1 font-bold">
          <span class="lang-es">Nombre:</span>
          <span class="lang-ca">Nom:</span>
          <span class="lang-va">Nom:</span>
        </label>
        <input type="text" id="nombre" name="nombre" placeholder="Tu nombre" required aria-required="true" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0a5cb8] focus:border-transparent">
      </div>
      <div>
        <label for="telefono" class="block mb-1 font-bold">
          <span class="lang-es">Teléfono:</span>
          <span class="lang-ca">Telèfon:</span>
          <span class="lang-va">Telèfon:</span>
        </label>
        <input type="tel" id="telefono" name="telefono" placeholder="+34 600 000 000" required aria-required="true" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0a5cb8] focus:border-transparent">
      </div>
      <div>
        <label for="email" class="block mb-1 font-bold">
          <span class="lang-es">Correo electrónico:</span>
          <span class="lang-ca">Correu electrònic:</span>
          <span class="lang-va">Correo electrónico:</span>
        </label>
        <input type="email" id="email" name="email" placeholder="tu@correo.com" required aria-required="true" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0a5cb8] focus:border-transparent">
      </div>
      <div>
        <label for="ubicacion" class="block mb-1 font-bold">
          <span class="lang-es">Ubicación del servicio:</span>
          <span class="lang-ca">Ubicació del servei:</span>
          <span class="lang-va">Ubicació del servei:</span>
        </label>
        <select id="ubicacion" name="ubicacion" required aria-required="true" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0a5cb8] focus:border-transparent">
          <option value="">Selecciona una ubicación</option>
          <option value="Barcelona">Barcelona</option>
          <option value="Coruña">La Coruña</option>
          <option value="Valencia">Valencia</option>
          <option value="Castellón de la Plana">Castellón de la Plana</option>
        </select>
      </div>
      <div>
        <label for="equipo" class="block mb-1 font-bold">
          <span class="lang-es">Electrodoméstico a reparar:</span>
          <span class="lang-ca">Electrodomèstic a reparar:</span>
          <span class="lang-va">Electrodomèstic a reparar:</span>
        </label>
        <select id="equipo" name="equipo" required aria-required="true" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0a5cb8] focus:border-transparent">
          <option value="">Selecciona uno</option>
          <option value="Lavadora">Lavadoras (Doméstico)</option>
          <option value="Lavavajillas">Lavavajillas (Doméstico)</option>
          <option value="Frigorífico">Frigorífico (Doméstico)</option>
          <option value="Horno">Horno (Doméstico)</option>
          <option value="Secadora">Secadora (Doméstico)</option>
          <option value="Vitrocerámica">Vitrocerámica (Doméstico)</option>
          <option value="Calentador">Calentador (Doméstico)</option>
          <option value="Caldera">Caldera (Doméstico)</option>
          <option value="Aire acondicionado">Aire acondicionado (Doméstico/Industrial)</option>
          <option value="Termotanque">Termotanque (Doméstico)</option>
          <option value="Maquinaria de Lavandería Industrial">Maquinaria de Lavandería Industrial</option>
          <option value="Equipos de Refrigeración Industrial">Equipos de Refrigeración Industrial</option>
          <option value="Calderas Industriales">Calderas Industriales</option>
          <option value="Otro">Otro</option>
        </select>
      </div>
      <div>
        <label for="mensaje" class="block mb-1 font-bold">
          <span class="lang-es">Descripción del problema:</span>
          <span class="lang-ca">Descripció del problema:</span>
          <span class="lang-va">Descripció del problema:</span>
        </label>
        <textarea id="mensaje" name="mensaje" rows="4" placeholder="Describe el problema" required aria-required="true" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0a5cb8] focus:border-transparent"></textarea>
      </div>
      <button type="submit" class="w-full bg-[#0a5cb8] text-white py-2 px-4 rounded-md font-bold transition duration-300 hover:bg-[#064b93] focus:outline-none focus:ring-2 focus:ring-[#0a5cb8] focus:ring-offset-2">
        <span class="lang-es">Enviar</span>
        <span class="lang-ca">Envia</span>
        <span class="lang-va">Envia</span>
      </button>
    </form>
    <div id="formLoadingIndicator" class="flex justify-center items-center">
        <i class="fas fa-spinner fa-spin mr-2"></i>
        <span class="lang-es">Enviando...</span>
        <span class="lang-ca">Enviant...</span>
        <span class="lang-va">Enviant...</span>
    </div>
    <div id="formResponse" class="form-response text-center mt-5 p-4 rounded-md font-bold hidden" role="status" aria-live="polite"></div>
  </section>

  <section id="marcas" class="marcas py-16 px-5 bg-gray-100 text-center">
      <h2 class="text-3xl md:text-4xl mb-8 text-[#0a5cb8]">
          <span class="lang-es">Marcas con las que trabajamos</span>
          <span class="lang-ca">Marques amb les quals treballem</span>
          <span class="lang-va">Marques amb les quals treballem</span>
      </h2>
      <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 max-w-screen-lg mx-auto items-center">
          <div class="flex justify-center"><img src="/samsung-logo-wordmark-rgb.png" alt="Logo Samsung" class="h-10 sm:h-12 w-auto" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/100x40/cccccc/ffffff?text=Samsung';"></div>
          <div class="flex justify-center"><img src="/lg-logo-1.png" alt="Logo LG" class="h-10 sm:h-12 w-auto" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/100x40/cccccc/ffffff?text=LG';"></div>
          <div class="flex justify-center"><img src="/balay.png" alt="Logo Balay" class="h-10 sm:h-12 w-auto" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/100x40/cccccc/ffffff?text=Balay';"></div>
          <div class="flex justify-center"><img src="/siemens.png" alt="Logo Siemens" class="h-10 sm:h-12 w-auto" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/100x40/cccccc/ffffff?text=Siemens';"></div>
          <div class="flex justify-center"><img src="/Whirlpool_Corporation_Logo_(as_of_2017).svg.png" alt="Logo Whirlpool" class="h-10 sm:h-12 w-auto" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/100x40/cccccc/ffffff?text=Whirlpool';"></div>
          <div class="flex justify-center"><img src="/neckar.png" alt="Logo Neckar" class="h-10 sm:h-12 w-auto" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/100x40/cccccc/ffffff?text=Neckar';"></div>
          <div class="flex justify-center"><img src="/bosch.png" alt="Logo Bosch" class="h-10 sm:h-12 w-auto" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/100x40/cccccc/ffffff?text=Bosch';"></div>
          <div class="flex justify-center"><img src="/Haier_logo.svg.png" alt="Logo Haier" class="h-10 sm:h-12 w-auto" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/100x40/cccccc/ffffff?text=Haier';"></div>
          <div class="flex justify-center"><img src="/mitsubishi.png" alt="Logo Mitsubishi Electric" class="h-10 sm:h-12 w-auto" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/100x40/cccccc/ffffff?text=Mitsubishi';"></div>
          <div class="flex justify-center"><img src="/saunier.png" alt="Logo Saunier Duval" class="h-10 sm:h-12 w-auto" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/100x40/cccccc/ffffff?text=Saunier Duval';"></div>
          <div class="flex justify-center"><img src="/ariston.jpg" alt="Logo Ariston Thermo Group" class="h-10 sm:h-12 w-auto" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/100x40/cccccc/ffffff?text=Ariston';"></div>
          <div class="flex justify-center"><img src="/vaillant.jpg" alt="Logo Vaillant" class="h-10 sm:h-12 w-auto" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/100x40/cccccc/ffffff?text=Vaillant';"></div>
          <div class="flex justify-center"><img src="/junkers.png" alt="Logo Junkers" class="h-10 sm:h-12 w-auto" loading="lazy" onerror="this.onerror=null; this.src='https://placehold.co/100x40/cccccc/ffffff?text=Junkers';"></div>
      </div>
  </section>

  <footer class="bg-[#0a5cb8] text-white text-center py-5 text-sm">
    <p>
      <span class="lang-es">© 2025 ERB Servicio Técnico de Gamma Blanca | BARCELONA – CORUÑA – VALENCIA – CASTELLÓN de la Plana</span>
      <span class="lang-ca">© 2025 ERB Servei Tècnic de Gamma Blanca | BARCELONA – CORUÑA – VALÈNCIA – CASTELLÓ de la Plana</span>
      <span class="lang-va">© 2025 ERB Servei Tècnic de Gamma Blanca | BARCELONA – CORUÑA – VALÈNCIA – CASTELLÓ de la Plana</span>
    </p>
    <div class="mt-2">
        <a href="#" class="lang-es">Política de Privacidad</a><span class="lang-es"> | </span>
        <a href="#" class="lang-es">Aviso Legal</a><span class="lang-es"> | </span>
        <a href="/1234.html" id="manageCookiesLink" class="lang-es">Gestionar Cookies</a>

        <a href="#" class="lang-ca">Política de Privacitat</a><span class="lang-ca"> | </span>
        <a href="#" class="lang-ca">Avís Legal</a><span class="lang-ca"> | </span>
        <a href="/1234.html" id="manageCookiesLinkCa" class="lang-ca">Gestionar Galetes</a>

        <a href="#" class="lang-va">Política de Privacitat</a><span class="lang-va"> | </span>
        <a href="#" class="lang-va">Avís Legal</a><span class="lang-va"> | </span>
        <a href="/1234.html" id="manageCookiesLinkVa" class="lang-va">Gestionar Galetes</a>
    </div>
  </footer>

  <div id="cookie-banner">
      <div class="cookie-content">
          <span class="lang-es">Este sitio web utiliza cookies para mejorar la experiencia del usuario. Al utilizar nuestro sitio web, aceptas todas las cookies de acuerdo con nuestra <a href="/1234.html" target="_blank">Política de Cookies</a>.</span>
          <span class="lang-ca">Aquest lloc web utilitza galetes per millorar l'experiència de l'usuari. En utilitzar el nostre lloc web, acceptes totes les galetes d'acord amb la nostra <a href="/1234.html" target="_blank">Política de Galetes</a>.</span>
          <span class="lang-va">Aquest lloc web utilitza galetes per millorar l'experiència de l'usuari. En utilitzar el nostre lloc web, acceptes totes les galetes d'acuerdo con la nostra <a href="/1234.html" target="_blank">Política de Galetes</a>.</span>
      </div>
      <div class="cookie-buttons">
          <button class="accept-btn">
              <span class="lang-es">Aceptar</span>
              <span class="lang-ca">Acceptar</span>
              <span class="lang-va">Acceptar</span>
          </button>
          <button class="reject-btn">
              <span class="lang-es">Rechazar</span>
              <span class="lang-ca">Rebutjar</span>
              <span class="lang-va">Rebutjar</span>
          </button>
      </div>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>

  <script>
    // Translations object for dynamic text
    const translations = {
      es: {
        placeholder: { nombre: "Tu nombre", telefono: "+34 600 000 000", email: "tu@correo.com", mensaje: "Describe el problema" },
        text: { defaultUbicacion: "Selecciona una ubicación", defaultElectrodomestico: "Selecciona uno", darkMode: "Modo Oscuro", lightMode: "Modo Claro", sending: "Enviando...", viewBrands: "Ver Marcas", aboutUs: "Sobre Nosotros", domestico: "Doméstico", industrial: "Industrial", formSuccess: "¡Gracias! Tu solicitud ha sido enviada. Nos pondremos en contacto contigo pronto.", formError: "Hubo un error al enviar tu solicitud. Por favor, inténtalo de nuevo más tarde.", validationError: "Por favor, completa todos los campos requeridos.", requestRepair: "Solicita tu reparación", chatWhatsApp: "Chatea por WhatsApp", cookieConsent: "Este sitio web utiliza cookies para mejorar la experiencia del usuario. Al utilizar nuestro sitio web, aceptas todas las cookies de acuerdo con nuestra ", cookiePolicyLink: "1234.html", cookieAccept: "Aceptar", cookieReject: "Rechazar", manageCookies: "Gestionar Cookies", cookiePolicyText: "Política de Cookies", coverageTitle: "Nuestra Zona de Cobertura", coverageDetail: "Ofrecemos nuestros servicios en el centro de Valencia y alrededores, cubriendo un área aproximada hasta Sagunto. Consulta el mapa para más detalles." }
      },
      ca: {
        placeholder: { nombre: "El teu nom", telefono: "+34 600 000 000", email: "el teu@correu.com", mensaje: "Descriu el problema" },
        text: { defaultUbicacion: "Selecciona una ubicació", defaultElectrodomestico: "Selecciona un", darkMode: "Mode Fosc", lightMode: "Mode Clar", sending: "Enviant...", viewBrands: "Veure Marques", aboutUs: "Sobre Nosaltres", domestico: "Domèstic", industrial: "Industrial", formSuccess: "Gràcies! La teva sol·licitud ha estat enviada. Ens posarem en contacte amb tu aviat.", formError: "Hi ha hagut un error en enviar la teva sol·licitud. Si us plau, torna a intentar-ho més tard.", validationError: "Si us plau, completa tots els camps requerits.", requestRepair: "Sol·licita la teva reparació", chatWhatsApp: "Xateja per WhatsApp", cookieConsent: "Aquest lloc web utilitza galetes per millorar l'experiència de l'usuari. En utilitzar el nostre lloc web, acceptes totes les galetes d'acord amb la nostra ", cookiePolicyLink: "1234.html", cookieAccept: "Acceptar", cookieReject: "Rebutjar", manageCookies: "Gestionar Galetes", cookiePolicyText: "Política de Galetes", coverageTitle: "La Nostra Zona de Cobertura", coverageDetail: "Oferim els nostres serveis al centre de València i voltants, cobrint una àrea aproximada fins a Sagunt. Consulteu el mapa per a més detalls." }
      },
      va: {
        placeholder: { nombre: "El teu nom", telefono: "+34 600 000 000", email: "el teu@correu.com", mensaje: "Descriu el problema" },
        text: { defaultUbicacion: "Selecciona una ubicació", defaultElectrodomestico: "Selecciona un", darkMode: "Mode Fosc", lightMode: "Mode Clar", sending: "Enviant...", viewBrands: "Veure Marques", aboutUs: "Sobre Nosaltres", domestico: "Domèstic", industrial: "Industrial", formSuccess: "Gràcies! La teua sol·licitud ha sigut enviada. Ens posarem en contacte amb tu prompte.", formError: "Hi ha hagut un error en enviar la teua sol·licitud. Per favor, intenta-ho de nou més tard.", validationError: "Per favor, completa tots els camps requerits.", requestRepair: "Sol·licita la teua reparació", chatWhatsApp: "Chateja per WhatsApp", cookieConsent: "Aquest lloc web utilitza galetes per millorar l'experiència de l'usuari. En utilitzar el nostre lloc web, acceptes totes les galetes d'acuerdo con la nostra ", cookiePolicyLink: "1234.html", cookieAccept: "Acceptar", cookieReject: "Rebutjar", manageCookies: "Gestionar Galetes", cookiePolicyText: "Política de Galetes", coverageTitle: "La Nostra Zona de Cobertura", coverageDetail: "Oferim els nostres serveis al centre de València i voltants, cobrint una àrea aproximada fins a Sagunt. Consulteu el mapa per a més detalls." }
      }
    };

    // Function to update placeholders and dynamic text based on selected language
    function updatePlaceholders(lang) {
      document.getElementById('nombre').placeholder = translations[lang].placeholder.nombre;
      document.getElementById('telefono').placeholder = translations[lang].placeholder.telefono;
      document.getElementById('email').placeholder = translations[lang].placeholder.email;
      document.getElementById('mensaje').placeholder = translations[lang].placeholder.mensaje;
      document.getElementById('ubicacion').options[0].text = translations[lang].text.defaultUbicacion;
      document.getElementById('equipo').options[0].text = translations[lang].text.defaultElectrodomestico;
      updateSubmitButtonText();
      updateServiceTypeButtonText(currentLang);
      updateAboutUsButtonText(currentLang);
      updateContactButtonsText(currentLang);
      updateCookieBannerText(currentLang); // Ensure cookie banner text is updated
      updateFooterLinksText(currentLang); // Ensure footer links are updated
      updateCoverageMapText(currentLang); // Update coverage map text
    }

    let currentLang = 'es'; // Default language

    // Function to set the language of the page
    function setLanguage(lang) {
      currentLang = lang;
      const languages = ['es', 'ca', 'va'];
      languages.forEach(function(l) {
        const elems = document.getElementsByClassName('lang-' + l);
        for (let i = 0; i < elems.length; i++) {
          elems[i].style.display = (l === lang) ? 'inline' : 'none';
        }
      });
      updatePlaceholders(currentLang);
      updateDarkModeButtonText();
      updateContactButtonsText(currentLang); // Ensure contact buttons are updated on language change
      updateCookieBannerText(currentLang); // Update cookie banner on language change
      updateFooterLinksText(currentLang); // Update footer links on language change
      updateCoverageMapText(currentLang); // Update coverage map text on language change
    }

    // Function to update the text of the dark mode button
    function updateDarkModeButtonText() {
        const isDarkMode = document.body.classList.contains('dark-mode');
        const darkModeToggle = document.getElementById('darkModeToggle');
        const icon = darkModeToggle.querySelector('i');
        const textSpanEs = darkModeToggle.querySelector('.lang-es');
        const textSpanCa = darkModeToggle.querySelector('.lang-ca');
        const textSpanVa = darkModeToggle.querySelector('.lang-va');

        if (isDarkMode) {
             icon.classList.remove('fa-moon');
             icon.classList.add('fa-sun');
             textSpanEs.textContent = translations.es.text.lightMode;
             textSpanCa.textContent = translations.ca.text.lightMode;
             textSpanVa.textContent = translations.va.text.lightMode;
        } else {
             icon.classList.remove('fa-sun');
             icon.classList.add('fa-moon');
             textSpanEs.textContent = translations.es.text.darkMode;
             textSpanCa.textContent = translations.ca.text.darkMode;
             textSpanVa.textContent = translations.va.text.darkMode;
        }
    }

    // Function to update the text of the form submit button
    function updateSubmitButtonText() {
        const submitButton = document.querySelector("#contactForm button[type='submit']");
        if (submitButton) {
            const langSpans = submitButton.querySelectorAll('span[class^="lang-"]');
            langSpans.forEach(span => {
                if (span.classList.contains('lang-' + currentLang)) {
                    span.style.display = 'inline';
                } else {
                    span.style.display = 'none';
                }
            });
        }
    }

    // Function to update the text of service type buttons
    function updateServiceTypeButtonText(lang) {
        const domesticoBtn = document.getElementById('domesticoBtn');
        const industrialBtn = document.getElementById('industrialBtn');
        if (domesticoBtn) {
            domesticoBtn.querySelector('.lang-es').textContent = translations.es.text.domestico;
            domesticoBtn.querySelector('.lang-ca').textContent = translations.ca.text.domestico;
            domesticoBtn.querySelector('.lang-va').textContent = translations.va.text.domestico;
        }
         if (industrialBtn) {
            industrialBtn.querySelector('.lang-es').textContent = translations.es.text.industrial;
            industrialBtn.querySelector('.lang-ca').textContent = translations.ca.text.industrial;
            industrialBtn.querySelector('.lang-va').textContent = translations.va.text.industrial;
         }
    }

    // Function to update the text of the "About Us" button
    function updateAboutUsButtonText(lang) {
        const aboutUsButton = document.querySelector('.contact-buttons-container a[href="#about-us"]');
        if (aboutUsButton) {
            aboutUsButton.querySelector('.lang-es').textContent = translations.es.text.aboutUs;
            aboutUsButton.querySelector('.lang-ca').textContent = translations.ca.text.aboutUs;
            aboutUsButton.querySelector('.lang-va').textContent = translations.va.text.aboutUs;
        }
    }

    // Function to update the text of various contact buttons
    function updateContactButtonsText(lang) {
        const requestRepairButton = document.querySelector('.contact-buttons-container a[href="#formulario"]');
        if (requestRepairButton) {
            requestRepairButton.querySelector('.lang-es').textContent = translations[lang].text.requestRepair;
            requestRepairButton.querySelector('.lang-ca').textContent = translations[lang].text.requestRepair;
            requestRepairButton.querySelector('.lang-va').textContent = translations[lang].text.requestRepair;
        }

        const chatWhatsAppButton = document.querySelector('.whatsapp-button-container .whatsapp-btn');
        if (chatWhatsAppButton) {
             chatWhatsAppButton.querySelector('.lang-es').textContent = translations[lang].text.chatWhatsApp;
             chatWhatsAppButton.querySelector('.lang-ca').textContent = translations[lang].text.chatWhatsApp;
             chatWhatsAppButton.querySelector('.lang-va').textContent = translations[lang].text.chatWhatsApp;
        }
    }

    // Function to update cookie banner text and links based on current language
    function updateCookieBannerText(lang) {
        const cookieBanner = document.getElementById('cookie-banner');
        if (cookieBanner) {
            // Update text content with correct link path
            cookieBanner.querySelector('.cookie-content .lang-es').innerHTML = translations.es.text.cookieConsent + `<a href="/1234.html" target="_blank">${translations.es.text.cookiePolicyText}</a>.`;
            cookieBanner.querySelector('.cookie-content .lang-ca').innerHTML = translations.ca.text.cookieConsent + `<a href="/1234.html" target="_blank">${translations.ca.text.cookiePolicyText}</a>.`;
            cookieBanner.querySelector('.cookie-content .lang-va').innerHTML = translations.va.text.cookieConsent + `<a href="/1234.html" target="_blank">${translations.va.text.cookiePolicyText}</a>.`;

            // Update button text
            cookieBanner.querySelector('.accept-btn .lang-es').textContent = translations.es.text.cookieAccept;
            cookieBanner.querySelector('.accept-btn .lang-ca').textContent = translations.ca.text.cookieAccept;
            cookieBanner.querySelector('.accept-btn .lang-va').textContent = translations.va.text.cookieAccept;

            cookieBanner.querySelector('.reject-btn .lang-es').textContent = translations.es.text.cookieReject;
            cookieBanner.querySelector('.reject-btn .lang-ca').textContent = translations.ca.text.cookieReject;
            cookieBanner.querySelector('.reject-btn .lang-va').textContent = translations.va.text.cookieReject;
        }
    }

    // Function to update footer links text and href based on current language
    function updateFooterLinksText(lang) {
        const manageCookiesLinkEs = document.getElementById('manageCookiesLink');
        const manageCookiesLinkCa = document.getElementById('manageCookiesLinkCa');
        const manageCookiesLinkVa = document.getElementById('manageCookiesLinkVa');

        if (manageCookiesLinkEs) {
            manageCookiesLinkEs.textContent = translations.es.text.manageCookies;
            manageCookiesLinkEs.href = "/" + translations.es.text.cookiePolicyLink; // Update href
        }
        if (manageCookiesLinkCa) {
            manageCookiesLinkCa.textContent = translations.ca.text.manageCookies;
            manageCookiesLinkCa.href = "/" + translations.ca.text.cookiePolicyLink; // Update href
        }
        if (manageCookiesLinkVa) {
            manageCookiesLinkVa.textContent = translations.va.text.manageCookies;
            manageCookiesLinkVa.href = "/" + translations.va.text.cookiePolicyLink; // Update href
        }

        // Update the "Política de Cookies" link in the footer explicitly
        document.querySelectorAll('footer a[id^="manageCookiesLink"]').forEach(link => {
             const linkLang = link.id.substring("manageCookiesLink".length).toLowerCase() || 'es'; // es, ca, va
             if (link.classList.contains('lang-' + linkLang)) {
                 link.textContent = translations[linkLang].text.manageCookies; // Use manageCookies for display text
                 link.href = "/" + translations[linkLang].text.cookiePolicyLink; // Ensure href is also updated
             }
        });
    }

    // Function to update coverage map section text based on current language
    function updateCoverageMapText(lang) {
        const coverageSection = document.getElementById('coverage-area');
        if (coverageSection) {
            const titleElement = coverageSection.querySelector('h2');
            const detailElement = coverageSection.querySelector('p');

            if (titleElement) {
                titleElement.querySelector('.lang-es').textContent = translations.es.text.coverageTitle;
                titleElement.querySelector('.lang-ca').textContent = translations.ca.text.coverageTitle;
                titleElement.querySelector('.lang-va').textContent = translations.va.text.coverageTitle;
            }
            if (detailElement) {
                detailElement.querySelector('.lang-es').textContent = translations.es.text.coverageDetail;
                detailElement.querySelector('.lang-ca').textContent = translations.ca.text.coverageDetail;
                detailElement.querySelector('.lang-va').textContent = translations.va.text.coverageDetail;
            }
        }
    }


    // Function to filter service cards based on selected service type
    function filterServiceCards(serviceType) {
        const cards = document.querySelectorAll('#servicios .card');
        cards.forEach(card => {
            const cardTypes = card.dataset.serviceType ? card.dataset.serviceType.split(' ') : [];
            if (serviceType === 'all' || cardTypes.includes(serviceType)) {
                card.classList.remove('hidden');
            } else {
                card.classList.add('hidden');
            }
        });
    }

    // --- Cookie Helper Functions ---
    function setCookie(name, value, days) {
        let expires = "";
        if (days) {
            const date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + (value || "")  + expires + "; path=/";
    }

    function getCookie(name) {
        const nameEQ = name + "=";
        const ca = document.cookie.split(';');
        for(let i=0;i < ca.length;i++) {
            let c = ca[i];
            while (c.charAt(0)==' ') c = c.substring(1,c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
        }
        return null;
    }

    function eraseCookie(name) {
        document.cookie = name +'=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';
    }
    // --- End Cookie Helper Functions ---

    // Main script execution after DOM is fully loaded
    document.addEventListener('DOMContentLoaded', (event) => {
        const body = document.body;
        const savedMode = localStorage.getItem('dark-mode');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

        // Set initial dark mode
        if (savedMode === 'enabled') {
            body.classList.add('dark-mode');
        } else if (savedMode === null && prefersDark) {
            body.classList.add('dark-mode');
        }
        updateDarkModeButtonText(); // Update button text after setting mode

        setLanguage('es'); // Set default language to Spanish

        // --- Cookie Consent Logic ---
        const cookieBanner = document.getElementById('cookie-banner');
        const acceptCookiesBtn = cookieBanner ? cookieBanner.querySelector('.accept-btn') : null;
        const rejectCookiesBtn = cookieBanner ? cookieBanner.querySelector('.reject-btn') : null;
        const cookieConsentGiven = getCookie('cookie_consent');

        if (!cookieConsentGiven && cookieBanner) {
            cookieBanner.style.display = 'flex';
            updateCookieBannerText(currentLang);
        }

        if (acceptCookiesBtn) {
            acceptCookiesBtn.addEventListener('click', () => {
                setCookie('cookie_consent', 'accepted', 365);
                cookieBanner.style.display = 'none';
                if (typeof gtag === 'function') {
                    gtag('consent', 'update', { 'analytics_storage': 'granted' });
                }
            });
        }

        if (rejectCookiesBtn) {
            rejectCookiesBtn.addEventListener('click', () => {
                setCookie('cookie_consent', 'rejected', 365);
                cookieBanner.style.display = 'none';
                 if (typeof gtag === 'function') {
                    gtag('consent', 'update', { 'analytics_storage': 'denied' });
                }
            });
        }

        document.querySelectorAll('[id^="manageCookiesLink"]').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                if (cookieBanner) {
                    cookieBanner.style.display = 'flex';
                    updateCookieBannerText(currentLang);
                }
            });
        });
        // --- End Cookie Consent Logic ---

        // Language button event listeners
        document.querySelectorAll('#language-selector button').forEach(button => {
            button.addEventListener('click', (event) => {
                const buttonElement = event.target.closest('button'); // Ensure we get the button element
                if (buttonElement.id === 'darkModeToggle') return; // Skip dark mode toggle

                const buttonText = buttonElement.textContent.toLowerCase();
                let lang = 'es';
                if (buttonText.includes('català')) lang = 'ca';
                else if (buttonText.includes('valencià')) lang = 'va';
                setLanguage(lang);
            });
        });

        // Dark mode toggle event listener
        const darkModeToggle = document.getElementById('darkModeToggle');
        if (darkModeToggle) {
            darkModeToggle.addEventListener('click', () => {
                body.classList.toggle('dark-mode');
                localStorage.setItem('dark-mode', body.classList.contains('dark-mode') ? 'enabled' : 'disabled');
                updateDarkModeButtonText();
            });
        }

        // Service card click to populate form and scroll
        const equipoSelect = document.getElementById('equipo');
        const formularioSection = document.querySelector('section#formulario'); // More specific selector
        document.querySelectorAll('#servicios .card').forEach(card => {
            card.addEventListener('click', () => {
                const formValue = card.dataset.applianceValue;
                if (formValue && equipoSelect) {
                    equipoSelect.value = formValue;
                }
                if (formularioSection) {
                     formularioSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // Form submission handler
        const contactForm = document.getElementById("contactForm");
        if (contactForm) {
            contactForm.addEventListener("submit", function(e) {
               e.preventDefault();
               const form = this;
               const submitButton = form.querySelector("button[type='submit']");
               const responseDiv = document.getElementById("formResponse");
               const formLoadingIndicator = document.getElementById('formLoadingIndicator');

               responseDiv.classList.remove('visible', 'success', 'error');
               responseDiv.textContent = '';
               let allRequiredFilled = true;

               form.querySelectorAll('[required]').forEach(input => {
                   if (!input.value) {
                       allRequiredFilled = false;
                       input.classList.add('border-red-500'); // Highlight empty required fields
                   } else {
                       input.classList.remove('border-red-500');
                   }
               });

               if (!allRequiredFilled) {
                   responseDiv.textContent = translations[currentLang].text.validationError;
                   responseDiv.className = "form-response text-center mt-5 p-4 rounded-md font-bold block error visible";
                   return;
               }

               submitButton.disabled = true;
               submitButton.classList.add('opacity-50', 'cursor-not-allowed');
               if(formLoadingIndicator) formLoadingIndicator.style.display = 'flex';

               fetch(form.action, {
                 method: "POST",
                 body: new FormData(form),
                 headers: { 'Accept': 'application/json' }
               })
               .then(response => {
                 if(formLoadingIndicator) formLoadingIndicator.style.display = 'none';
                 if (response.ok) {
                   return response.text();
                 } else {
                   return response.text().then(text => {
                     throw new Error(`HTTP status ${response.status}: ${text}`);
                   });
                 }
               })
               .then(() => {
                 form.reset();
                 responseDiv.textContent = translations[currentLang].text.formSuccess;
                 responseDiv.className = "form-response text-center mt-5 p-4 rounded-md font-bold block success visible";
               })
               .catch(error => {
                 console.error('Form submission error:', error);
                 responseDiv.textContent = translations[currentLang].text.formError;
                 responseDiv.className = "form-response text-center mt-5 p-4 rounded-md font-bold block error visible";
               })
               .finally(() => {
                 submitButton.disabled = false;
                 submitButton.classList.remove('opacity-50', 'cursor-not-allowed');
               });
            });
        }


        // Service type filter logic
        const serviceTypeSelector = document.querySelector('.service-type-selector');
        const serviciosSection = document.getElementById('servicios');
        if (serviceTypeSelector && document.getElementById('domesticoBtn') && serviciosSection) {
            filterServiceCards('domestico'); // Initial filter
            serviceTypeSelector.addEventListener('click', (event) => {
                const clickedButton = event.target.closest('button');
                if (clickedButton) {
                    serviceTypeSelector.querySelectorAll('button').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    clickedButton.classList.add('active');
                    const selectedType = clickedButton.dataset.serviceType;
                    filterServiceCards(selectedType);
                    serviciosSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        }

        // "Solicita tu reparación" button scroll
        const requestRepairBtn = document.getElementById('requestRepairBtn');
        if (requestRepairBtn && formularioSection) {
            requestRepairBtn.addEventListener('click', function(event) {
                event.preventDefault();
                formularioSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
        }

        // Initialize gtag with default consent state
        const initialConsent = getCookie('cookie_consent');
        if (typeof gtag === 'function') {
            gtag('consent', 'default', {
                'analytics_storage': initialConsent === 'accepted' ? 'granted' : 'denied',
                'ad_storage': 'denied',
                'ad_user_data': 'denied',
                'ad_personalization': 'denied'
            });
            if (initialConsent === 'accepted') {
                 gtag('consent', 'update', {
                    'analytics_storage': 'granted'
                });
            }
        }

        // Initialize Coverage Map
        try {
            const valenciaCoords = [39.4699, -0.3763]; // Coordinates for Valencia
            const map = L.map('coverageMap').setView(valenciaCoords, 10); // Initial zoom level

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);

            // Add a marker for Valencia center
            L.marker(valenciaCoords).addTo(map)
                .bindPopup('<b>Valencia Centro</b><br>Nuestra base de operaciones.')
                .openPopup();

            // Add a circle for coverage area (approx. 28km radius to include Sagunto)
            L.circle(valenciaCoords, {
                color: '#0a5cb8',      // Blue color, matching the theme
                fillColor: '#0a5cb8',  // Fill color
                fillOpacity: 0.2,    // Slight transparency for the fill
                radius: 28000        // Radius in meters (28 km)
            }).addTo(map).bindPopup('Zona de cobertura aproximada.');

        } catch (e) {
            console.error("Error initializing Leaflet map:", e);
            const mapDiv = document.getElementById('coverageMap');
            if (mapDiv) {
                mapDiv.innerHTML = '<p class="text-red-500 text-center">Error al cargar el mapa de cobertura. Por favor, inténtelo de nuevo más tarde.</p>';
            }
        }
        updateCoverageMapText(currentLang); // Ensure map texts are set on load
    });
  </script>
</body>
</html>
